import{h}from"../mycomponent.core.js";var KupGauge=function(){function e(){this.arcThickness=30,this.colors=["red","yellow","green"],this.labelDistance=20,this.maxValue=100,this.measurementUnit="",this.minValue=-100,this.reverseColors=!1,this.showLabels=!0,this.showValue=!0,this.size=300,this.value=0,this.arcGenerator=d3.arc(),this.maxValuePositive=0}return e.prototype.percToDeg=function(e){return 360*e},e.prototype.degToRad=function(e){return e*Math.PI/180},e.prototype.percToRad=function(e){return this.degToRad(this.percToDeg(e))},e.prototype.calculateValuePercentage=function(e){return void 0===e&&(e=0),(e-this.minValue)/this.maxValuePositive},e.prototype.paintNeedle=function(e,t,a,r,s){var i,n,l;return void 0===s&&(s=0),i=this.percToRad(s/2),n=a-e*Math.cos(i),l=r-e*Math.sin(i),"M "+(a-t*Math.cos(i-Math.PI/2))+" "+(r-t*Math.sin(i-Math.PI/2))+" L "+n+" "+l+" L "+(a-t*Math.cos(i+Math.PI/2))+" "+(r-t*Math.sin(i+Math.PI/2))},e.prototype.render=function(){var e=this;this.maxValuePositive=Math.abs(this.minValue-this.maxValue);var t=this.size/2,a=this.size/16,r=t-this.arcThickness/2,s=t+a+1*this.labelDistance,i=[];this.firstThreshold&&i.push(this.firstThreshold),this.secondThreshold&&i.push(this.secondThreshold);for(var n=[this.minValue].concat(i,[this.maxValue]),l=[],o=this.reverseColors?this.colors.reverse():this.colors,u=0;u<n.length-1;u++){var c=this.arcGenerator({innerRadius:t-this.arcThickness,outerRadius:t,startAngle:this.calculateValuePercentage(n[u])*Math.PI,endAngle:this.calculateValuePercentage(n[u+1])*Math.PI});l.push(h("path",{d:c,style:{fill:o[u]?o[u]:"#000000"}}))}var p=this.showLabels?n.map(function(a){var s=e.calculateValuePercentage(a),i="end";s>.5?i="start":.5===s&&(i="middle");var n=e.percToRad(s/2),l=t-(r+e.labelDistance)*Math.cos(n),o=t-(r+e.labelDistance)*Math.sin(n);return h("text",{class:"gauge__label-text","text-anchor":i,x:l,y:o},a+" "+e.measurementUnit)}):[];return h("div",{class:"gauge__container"},h("svg",{class:"gauge",viewBox:"0 0 "+this.size+" "+s},h("g",{transform:"rotate(-90) translate(-"+t+", "+t+")"},l),h("circle",{class:"gauge__needle-base",cx:t,cy:t,r:a}),h("path",{class:"gauge__needle",d:this.paintNeedle(r,a,t,t,this.calculateValuePercentage(this.value))}),p,this.showValue?h("text",{class:"gauge__value-text","text-anchor":"middle",x:t,y:s},this.value+" "+this.measurementUnit):null))},Object.defineProperty(e,"is",{get:function(){return"kup-gauge"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{arcThickness:{type:Number,attr:"arc-thickness"},colors:{type:"Any",attr:"colors"},firstThreshold:{type:Number,attr:"first-threshold"},labelDistance:{type:Number,attr:"label-distance"},maxValue:{type:Number,attr:"max-value"},measurementUnit:{type:String,attr:"measurement-unit"},minValue:{type:Number,attr:"min-value"},reverseColors:{type:Boolean,attr:"reverse-colors"},secondThreshold:{type:Number,attr:"second-threshold"},showLabels:{type:Boolean,attr:"show-labels"},showValue:{type:Boolean,attr:"show-value"},size:{type:Number,attr:"size"},value:{type:Number,attr:"value"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return".sc-kup-gauge-h{--gau_needle-color:var(--kup-gauge_needle-color,#000);--gau_top-lateral-padding:var(--kup-gauge_top-lateral-padding,30px);--gau_threshold-color:var(--kup-gauge_threshold-color,#000);--gau_value-color:var(--kup-gauge_value-color,#000);display:inline-block}.sc-kup-gauge-h   .gauge.sc-kup-gauge{height:auto;overflow:visible;width:100%}.sc-kup-gauge-h   .gauge__container.sc-kup-gauge{padding:var(--gau_top-lateral-padding) var(--gau_top-lateral-padding) 0}.sc-kup-gauge-h   .gauge__label-text.sc-kup-gauge{fill:var(--gau_threshold-color);text-align:center}.sc-kup-gauge-h   .gauge__value-text.sc-kup-gauge{fill:var(--gau_value-color);text-align:center}.sc-kup-gauge-h   .gauge__needle.sc-kup-gauge, .sc-kup-gauge-h   .gauge__needle-base.sc-kup-gauge{fill:var(--gau_needle-color)}"},enumerable:!0,configurable:!0}),e}();export{KupGauge};