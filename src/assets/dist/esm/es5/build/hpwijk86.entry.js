import{h}from"../mycomponent.core.js";var KupGauge=function(){function e(){this.arcThickness=30,this.colors=["red","yellow","green"],this.labelDistance=20,this.maxValue=100,this.measurementUnit="",this.minValue=-100,this.showLabels=!0,this.showValue=!0,this.size=300,this.value=0,this.arcGenerator=d3.arc(),this.maxValuePositive=0}return e.prototype.percToDeg=function(e){return 360*e},e.prototype.degToRad=function(e){return e*Math.PI/180},e.prototype.percToRad=function(e){return this.degToRad(this.percToDeg(e))},e.prototype.calculateValuePercentage=function(e){return void 0===e&&(e=0),(e-this.minValue)/this.maxValuePositive},e.prototype.paintNeedle=function(e,t,a,s,r){var i,n,l;return void 0===r&&(r=0),i=this.percToRad(r/2),n=a-e*Math.cos(i),l=s-e*Math.sin(i),"M "+(a-t*Math.cos(i-Math.PI/2))+" "+(s-t*Math.sin(i-Math.PI/2))+" L "+n+" "+l+" L "+(a-t*Math.cos(i+Math.PI/2))+" "+(s-t*Math.sin(i+Math.PI/2))},e.prototype.render=function(){var e=this;this.maxValuePositive=Math.abs(this.minValue-this.maxValue);var t=this.size/2,a=this.size/16,s=t-this.arcThickness/2,r=t+a+1*this.labelDistance,i=[];this.firstThreshold&&i.push(this.firstThreshold),this.secondThreshold&&i.push(this.secondThreshold);for(var n=[this.minValue].concat(i,[this.maxValue]),l=[],o=0;o<n.length-1;o++){var u=this.arcGenerator({innerRadius:t-this.arcThickness,outerRadius:t,startAngle:this.calculateValuePercentage(n[o])*Math.PI,endAngle:this.calculateValuePercentage(n[o+1])*Math.PI});l.push(h("path",{d:u,style:{fill:this.colors[o]?this.colors[o]:"#000000"}}))}var c=this.showLabels?n.map(function(a){var r=e.calculateValuePercentage(a),i="end";r>.5?i="start":.5===r&&(i="middle");var n=e.percToRad(r/2),l=t-(s+e.labelDistance)*Math.cos(n),o=t-(s+e.labelDistance)*Math.sin(n);return h("text",{class:"gauge__label-text","text-anchor":i,x:l,y:o},a+" "+e.measurementUnit)}):[];return h("div",{class:"gauge__container"},h("svg",{class:"gauge",viewBox:"0 0 "+this.size+" "+r},h("g",{transform:"rotate(-90) translate(-"+t+", "+t+")"},l),h("circle",{class:"gauge__needle-base",cx:t,cy:t,r:a}),h("path",{class:"gauge__needle",d:this.paintNeedle(s,a,t,t,this.calculateValuePercentage(this.value))}),c,this.showValue?h("text",{class:"gauge__value-text","text-anchor":"middle",x:t,y:r},this.value+" "+this.measurementUnit):null))},Object.defineProperty(e,"is",{get:function(){return"kup-gauge"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"encapsulation",{get:function(){return"shadow"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{arcThickness:{type:Number,attr:"arc-thickness"},colors:{type:"Any",attr:"colors"},firstThreshold:{type:Number,attr:"first-threshold"},labelDistance:{type:Number,attr:"label-distance"},maxValue:{type:Number,attr:"max-value"},measurementUnit:{type:String,attr:"measurement-unit"},minValue:{type:Number,attr:"min-value"},secondThreshold:{type:Number,attr:"second-threshold"},showLabels:{type:Boolean,attr:"show-labels"},showValue:{type:Boolean,attr:"show-value"},size:{type:Number,attr:"size"},value:{type:Number,attr:"value"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return":host{--gau_needle-color:var(--kup-gauge_needle-color,#000);--gau_top-lateral-padding:var(--kup-gauge_top-lateral-padding,30px);--gau_threshold-color:var(--kup-gauge_threshold-color,#000);--gau_value-color:var(--kup-gauge_value-color,#000);display:inline-block}:host .gauge{height:auto;overflow:visible;width:100%}:host .gauge__container{padding:var(--gau_top-lateral-padding) var(--gau_top-lateral-padding) 0}:host .gauge__label-text{fill:var(--gau_threshold-color);text-align:center}:host .gauge__value-text{fill:var(--gau_value-color);text-align:center}:host .gauge__needle,:host .gauge__needle-base{fill:var(--gau_needle-color)}"},enumerable:!0,configurable:!0}),e}();export{KupGauge};