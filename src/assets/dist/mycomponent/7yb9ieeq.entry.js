const t=window.mycomponent.h;import{b as e}from"./chunk-31f65c6e.js";class s{constructor(){this.config="",this.showSubmit=!1,this.submitLabel="",this.submitPos="right",this.label="",this.labelPos="left",this.propagate={},this.extensions={},this.radioGeneratedName=e("value"),this.currentValue=null,this.onChangeInstance=this.onChange.bind(this),this.onSubmitInstance=this.onSubmit.bind(this)}updateInternalState(){let t;t="string"==typeof this.config&&this.config?JSON.parse(this.config):this.config;const e=Object.keys(t);let s={};e.forEach(e=>{e in this?this[e]=t[e]:s[e]=t[e]}),this.propagate=s}componentWillLoad(){this.updateInternalState()}onChange(t){const{value:e}=t.detail;this.ketchupFldChanged.emit({originalEvent:t,oldValue:this.currentValue,value:e}),this.currentValue=e}onSubmit(t){this.ketchupFldSubmit.emit({originalEvent:t,value:this.currentValue})}async getCurrentValue(){return this.currentValue}render(){let e=[],s=null,a=null;this.label.trim().length&&(s=t("label",{class:"ketchup-fld__label ketchup-fld--"+this.labelPos},this.label)),this.showSubmit&&(a=t("ketchup-button",{class:"ketchup-fld__submit ketchup-fld--"+this.submitPos,label:this.submitLabel,onKetchupButtonClicked:this.onSubmitInstance}));const n="top"===this.labelPos,i="top"===this.submitPos;(n||i)&&e.push(t("div",{class:"ketchup-fld__top-container"},n&&s?s:null,i&&a?a:null)),!n&&s&&e.push(s);let l="",h={};switch(this.type){case"cmb":h.displayedField="value",h.valueField="value",h.onKetchupComboSelected=this.onChangeInstance,l="combo";break;case"rad":h.valueField="obj",h.radioName=this.radioGeneratedName,h.onKetchupRadioChanged=this.onChangeInstance,l="radio";break;case"itx":case"Itx":h.onKetchupTextInputUpdated=this.onChangeInstance,h.onKetchupTextInputSubmit=this.onSubmitInstance,l="text-input"}return e.push(t("ketchup-"+l,Object.assign({class:"ketchup-fld__component",items:this.data},h,this.propagate))),!i&&a&&e.push(a),e}static get is(){return"ketchup-fld"}static get encapsulation(){return"shadow"}static get properties(){return{config:{type:String,attr:"config",watchCallbacks:["updateInternalState"]},data:{type:"Any",attr:"data"},extensions:{state:!0},getCurrentValue:{method:!0},label:{state:!0},labelPos:{state:!0},propagate:{state:!0},showSubmit:{state:!0},submitLabel:{state:!0},submitPos:{state:!0},type:{state:!0}}}static get events(){return[{name:"ketchupFldChanged",method:"ketchupFldChanged",bubbles:!0,cancelable:!1,composed:!0},{name:"ketchupFldSubmit",method:"ketchupFldSubmit",bubbles:!0,cancelable:!1,composed:!0}]}static get style(){return":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;--fld_comp-margin:var(--kup-fld_component-margin,8px)}.ketchup-fld__top-container{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-order:0;order:0;width:100%}.ketchup-fld__label{margin:var(--fld_comp-margin);-ms-flex-order:1;order:1}.ketchup-fld__label.ketchup-fld--right{-ms-flex-order:4;order:4}.ketchup-fld__component{margin:var(--fld_comp-margin);-ms-flex-order:3;order:3}.ketchup-fld__submit{margin:var(--fld_comp-margin);-ms-flex-order:2;order:2}.ketchup-fld__submit.ketchup-fld--right{-ms-flex-order:5;order:5}"}}export{s as KetchupFld};