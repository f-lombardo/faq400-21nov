const t=window.mycomponent.h;import{a as e}from"./chunk-cc6d1815.js";import{b as n}from"./chunk-77ecfe7f.js";var i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},u="object"==typeof n&&n&&n.Object===Object&&n,o="object"==typeof self&&self&&self.Object===Object&&self,a=u||o||Function("return this")(),l=a,r=function(){return l.Date.now()},s=a.Symbol,c=Object.prototype,p=c.hasOwnProperty,h=c.toString,d=s?s.toStringTag:void 0,b=Object.prototype.toString,f=s?s.toStringTag:void 0,v=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?function(t){var e=p.call(t,d),n=t[d];try{t[d]=void 0;var i=!0}catch(t){}var u=h.call(t);return i&&(e?t[d]=n:delete t[d]),u}(t):function(t){return b.call(t)}(t)},m=/^\s+|\s+$/g,g=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,x=/^0o[0-7]+$/i,I=parseInt,j=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==v(t)}(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(m,"");var n=y.test(t);return n||x.test(t)?I(t.slice(2),n?2:8):g.test(t)?NaN:+t},T=Math.max,k=Math.min,L=function(t,e,n){var u,o,a,l,s,c,p=0,h=!1,d=!1,b=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=u,i=o;return u=o=void 0,p=e,l=t.apply(i,n)}function v(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-p>=a}function m(){var t=r();if(v(t))return g(t);s=setTimeout(m,function(t){var n=e-(t-c);return d?k(n,a-(t-p)):n}(t))}function g(t){return s=void 0,b&&u?f(t):(u=o=void 0,l)}function y(){var t=r(),n=v(t);if(u=arguments,o=this,c=t,n){if(void 0===s)return function(t){return p=t,s=setTimeout(m,e),h?f(t):l}(c);if(d)return s=setTimeout(m,e),f(c)}return void 0===s&&(s=setTimeout(m,e)),l}return e=j(e)||0,i(n)&&(h=!!n.leading,a=(d="maxWait"in n)?T(j(n.maxWait)||0,e):a,b="trailing"in n?!!n.trailing:b),y.cancel=function(){void 0!==s&&clearTimeout(s),p=0,u=c=o=s=void 0},y.flush=function(){return void 0===s?l:g(r())},y};class C{constructor(){this.initialValue="",this.inputType="text",this.isClearable=!1,this.label="",this.maxLength=524288,this.debounce=400,this.placeholder="",this.value="",this.elementId=e("kup-input"),this.classInputText="kup-input-text"}debounceChanged(){this.ketchupTextInputUpdated=function(t,e){const n=t._original||t;return{_original:t,emit:L(n.emit.bind(n),e)}}(this.ketchupTextInputUpdated,this.debounce)}componentWillLoad(){this.value=this.initialValue}componentDidLoad(){this.debounceChanged()}triggerFocus(){this.inputEl.focus(),this.textInput.focus()}onClearClick(){const t=this.value;this.value="",this.ketchupTextInputUpdated.emit({value:this.value,oldValue:t,info:{obj:this.obj}}),setTimeout(()=>this.triggerFocus(),10)}onKeyDown(t){"Enter"===t.key&&(t.preventDefault(),this.ketchupTextInputSubmit.emit({value:this.value,oldValue:this.value,info:{obj:this.obj}}))}onInputBlurred(t){const{target:e}=t;this.inputBlur.emit({value:e.value,oldValue:this.value,info:{obj:this.obj}}),this.value=e.value}onInputFocused(t){const{target:e}=t;this.inputFocused.emit({value:e.value,oldValue:this.value,info:{obj:this.obj}}),this.value=e.value}onInputUpdated(t){const{target:e}=t;this.ketchupTextInputUpdated.emit({value:e.value,oldValue:this.value,info:{obj:this.obj}}),this.value=e.value}render(){const e=this.classInputText+"__container";let n=null;return this.label&&(n=t("label",{htmlFor:this.elementId},this.label)),t("div",{class:e+(this.isClearable?" "+e+"--clearable":"")},n,t("input",{id:this.elementId,class:this.classInputText+(this.isClearable?" "+this.classInputText+"--clearable":""),maxlength:this.maxLength,ref:t=>this.textInput=t,tabindex:"0",type:this.inputType,value:this.value,onBlur:this.onInputBlurred.bind(this),onInput:this.onInputUpdated.bind(this),onFocus:this.onInputFocused.bind(this),onKeyDown:this.onKeyDown.bind(this),placeholder:this.placeholder}),this.isClearable?t("button",{"aria-label":"Close",class:this.classInputText+"__clear",role:"button",onClick:this.onClearClick.bind(this)},t("svg",{viewBox:"0 0 24 24"},t("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))):null)}static get is(){return"kup-text-input"}static get encapsulation(){return"shadow"}static get properties(){return{debounce:{type:Number,attr:"debounce",watchCallbacks:["debounceChanged"]},initialValue:{type:String,attr:"initial-value"},inputEl:{elementRef:!0},inputType:{type:String,attr:"input-type"},isClearable:{type:Boolean,attr:"is-clearable"},label:{type:String,attr:"label"},maxLength:{type:Number,attr:"max-length"},obj:{type:"Any",attr:"obj"},placeholder:{type:String,attr:"placeholder"},triggerFocus:{method:!0},value:{state:!0}}}static get events(){return[{name:"ketchupTextInputBlurred",method:"inputBlur",bubbles:!0,cancelable:!1,composed:!0},{name:"ketchupTextInputFocused",method:"inputFocused",bubbles:!0,cancelable:!1,composed:!0},{name:"ketchupTextInputSubmit",method:"ketchupTextInputSubmit",bubbles:!0,cancelable:!1,composed:!0},{name:"ketchupTextInputUpdated",method:"ketchupTextInputUpdated",bubbles:!0,cancelable:!1,composed:!0}]}static get style(){return":host{--int_color:var(--kup-text-input_color,#000);--int_font-size:var(--kup-text-input_font-size,14px);--int_border-color:var(--kup-text-input_border-color,grey);--int_border-color--selected:var(--kup-text-input_border-color--selected,#4e908f);--int_tr-duration:var(--kup-text-input_transition-duration,0.6s);--int_icon-color:var(--kup-text-input_icon-color,grey);--int_icon-color--hover:var(--kup-text-input_icon-color--hover,#676767);--int_placeholder-color:var(--kup-text-input_placeholder-color,#bebebe);--int_background-color:var(--kup-text-input_background-color,transparent);display:inline-block}label{margin-right:.5rem}.kup-input-text{color:var(--int_color);background-color:var(--int_background-color);border:1px solid var(--int_border-color);border-radius:2px;-webkit-box-sizing:border-box;box-sizing:border-box;outline:none;padding:4px 6px;position:relative;-webkit-transition:background-color var(--int_tr-duration);transition:background-color var(--int_tr-duration);z-index:0}.kup-input-text__container{display:inline-block;position:relative;z-index:0}.kup-input-text::-webkit-input-placeholder{color:var(--int_placeholder-color)}.kup-input-text:-ms-input-placeholder{color:var(--int_placeholder-color)}.kup-input-text::-ms-input-placeholder{color:var(--int_placeholder-color)}.kup-input-text::placeholder{color:var(--int_placeholder-color)}.kup-input-text:focus,.kup-input-text:hover{border-color:var(--int_border-color--selected)}.kup-input-text--clearable{padding-right:calc(6px + 4px * 2 + var(--int_font-size))}.kup-input-text__clear{-ms-flex-align:center;align-items:center;background-color:transparent;border:none;cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;margin:0;outline:none;padding:4px;position:absolute;right:6px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:1}.kup-input-text__clear>svg{fill:var(--int_icon-color);height:var(--int_font-size);-webkit-transition:fill var(--int_tr-duration);transition:fill var(--int_tr-duration);width:var(--int_font-size)}.kup-input-text__clear:hover>svg{fill:var(--int_icon-color--hover)}"}}export{C as KupTextInput};