import{r as t,c as i,h as e,g as s}from"./p-df6a2f70.js";class l{constructor(e){t(this,e),this.closable=!1,this.disabled=!1,this.close=i(this,"close",7)}onCloseClicked(){this.disabled||this.close.emit()}render(){let t=null;return this.closable&&(t=e("svg",{version:"1.1",width:"16",height:"16",viewBox:"0 0 24 24","aria-hidden":"false",onClick:()=>this.onCloseClicked()},e("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))),e("span",{id:"chip",class:{disabled:this.disabled},tabindex:"0","aria-disabled":this.disabled?"true":"false"},e("span",{id:"content"},e("slot",null),t))}static get style(){return":host{--chi_color:var(--kup-chip_color,#1a1a1a);--chi_icon-color:var(--kup-chip_icon-color,#d91e18);--chi_icon-color-hover:var(--kup-chip_icon-color-hover,#f0423c);--chi_background:var(--kup-chip_background,#f0f0f0);--chi_background-hover:var(--kup-chip_background-hover,#e5e5e5);--chi_disabled-color:var(--kup-chip_disabled-color,#888)}#chip{background:var(--chi_background);display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;vertical-align:middle;margin:.5rem;padding:.5rem;outline:none;cursor:default}#chip:not(.disabled):hover{background:var(--chi_background-hover)}#chip #content{margin:0 3px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;vertical-align:middle;-ms-flex-pack:justify;justify-content:space-between;color:var(--chi_color)}#chip #content svg{cursor:pointer;fill:var(--chi_icon-color);margin-left:4px}#chip #content svg:hover{fill:var(--chi_icon-color-hover)}#chip.disabled #content{color:var(--chi_disabled-color)}#chip.disabled #content svg{cursor:default;fill:var(--chi_disabled-color)}"}}class o{constructor(e){t(this,e),this.layout="1",this.visible=!1,this.tooltipPosition={},this.kupTooltipLoadData=i(this,"kupTooltipLoadData",6),this.kupTooltipLoadDetail=i(this,"kupTooltipLoadDetail",6)}onDataChanged(){this.visible&&(this.positionRecalc(),this.loadDetailTimeout=setTimeout(()=>this.loadDetail(),200))}hasDetailData(){return!!this.detailData&&!!this.detailData.rows}resetTimeouts(){this.tooltipTimeout&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=null),this.loadDetailTimeout&&(clearTimeout(this.loadDetailTimeout),this.loadDetailTimeout=null)}loadDetail(){this.loadDetailTimeout=null,this.kupTooltipLoadDetail.emit()}get rows(){return this.hasDetailData()?this.detailData.rows:[]}getImage(){return this.data?this.data.image:""}getTitle(){return this.data?this.data.title:""}getContent(){return this.data?this.data.content:{}}onMouseOver(){this.tooltipTimeout||(this.tooltipTimeout=setTimeout(()=>{this.tooltipTimeout=null,this.visible=!0,this.kupTooltipLoadData.emit()},200))}onMouseLeave(){this.data=null,this.detailData=null,this.visible=!1,this.resetTimeouts()}getDefaultLayout(){return[e("div",{class:"left"},e("img",{src:this.getImage(),width:"75",height:"75"})),e("div",{class:"right"},e("h3",null,this.getTitle()),this.getInfos())]}getLayout2(){return e("div",null,e("h3",null,this.getTitle()))}getLayout3(){return[e("div",null,e("h4",null,this.getTitle())),this.getInfos()]}getInfos(){let t=null;const i=this.getContent();if(i){t=[];for(let s=1;s<=2;s++){const l=i[`info${s}`];l&&l.label&&l.label&&t.push(e("div",null,e("span",{class:"label"},l.label,": ")," "+l.value))}}return t}positionRecalc(){this.tooltipPosition={};const t=this.wrapperEl.getBoundingClientRect();window.innerHeight-t.bottom<(this.hasDetailData?300:150)?this.tooltipPosition.bottom=`${window.innerHeight-t.top+3}px`:this.tooltipPosition.top=`${t.bottom+3}px`,window.innerWidth-t.left<350?this.tooltipPosition.right=`${window.innerWidth-t.right}px`:this.tooltipPosition.left=`${t.left}px`}createTooltip(){if(!this.data)return null;let t=null;const i={};"2"===this.layout?(t=this.getLayout2(),i.layout2=!0):"3"===this.layout?(t=this.getLayout3(),i.layout3=!0):t=this.getDefaultLayout();let s=null;this.hasDetailData()&&(s=this.rows.map(t=>e("div",{class:"detail-row"},e("div",{class:"detail-row__label"},t.cells.label.value),e("div",{class:"detail-row__value"},t.cells.value.value))));const l={visible:this.hasDetailData()},o=Object.assign({},this.tooltipPosition);return e("div",{id:"tooltip",hidden:!this.visible||!this.data,style:o},e("div",{id:"main-content",class:i},t),e("div",{id:"detail",class:l},s))}render(){return e("div",{id:"wrapper",onMouseOver:this.onMouseOver.bind(this),onMouseLeave:this.onMouseLeave.bind(this),ref:t=>this.wrapperEl=t},e("slot",null),this.createTooltip())}get tooltipEl(){return s(this)}static get watchers(){return{data:["onDataChanged"]}}static get style(){return":host{--tlt_background:var(--kup-tlt_background,#fff);--tlt_border_color:var(--kup-tlt_border-color,#ccc);--tlt_detail-lbl-color:var(--kup-detail-lbl-color,#616161);--tlt_detail-txt-color:var(--kup-detail-txt-color,#888);--tlt_shadow:var(--kup-tlt_shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5));--tlt_display:var(--kup-tlt_display,inline-block)}:host #wrapper{position:relative;display:var(--tlt_display)}:host #wrapper #tooltip{position:fixed;background:var(--tlt_background);z-index:1000;-webkit-box-shadow:var(--tlt_shadow);box-shadow:var(--tlt_shadow);border-radius:3px;min-width:350px}:host #wrapper #tooltip #main-content{margin:20px;display:-ms-flexbox;display:flex;color:var(--tlt_detail-txt-color)}:host #wrapper #tooltip #main-content .left{width:75px;margin-right:15px}:host #wrapper #tooltip #main-content .right{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}:host #wrapper #tooltip #main-content.layout2{-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center}:host #wrapper #tooltip #main-content.layout3{-ms-flex-direction:column;flex-direction:column}:host #wrapper #tooltip #main-content.layout3>div:not(:last-child){margin-bottom:6px}:host #wrapper #tooltip #main-content h3,:host #wrapper #tooltip #main-content h4{margin:0}:host #wrapper #tooltip #main-content .label{color:var(--tlt_detail-lbl-color)}:host #wrapper #tooltip #detail:not(.visible){max-height:0;opacity:0;-webkit-transition:max-height .5s ease-out,opacity .5s ease-out;transition:max-height .5s ease-out,opacity .5s ease-out}:host #wrapper #tooltip #detail.visible{border-top:1px solid var(--tlt_border_color);padding:20px;max-height:500px;opacity:1;-webkit-transition:max-height .5s ease-in,opacity .5s ease-in;transition:max-height .5s ease-in,opacity .5s ease-in}:host #wrapper #tooltip #detail .detail-row{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}:host #wrapper #tooltip #detail .detail-row:not(:last-child){margin-bottom:6px}:host #wrapper #tooltip #detail .detail-row__label{color:var(--tlt_detail-lbl-color)}"}}export{l as kup_chip,o as kup_tooltip};