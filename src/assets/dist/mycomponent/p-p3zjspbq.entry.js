import{r as t,h as e,c as i,g as s,H as o}from"./p-df6a2f70.js";import{c as n}from"./p-d8060b98.js";class l{constructor(e){t(this,e),this.config={}}onBtnClicked(t){this.config.showSelection&&(this.selectedBtnIndex=parseInt(t.target.dataset.id))}render(){let t=[];this.buttons&&(this.config.columns&&this.config.columns>0?this.buttons.forEach((e,i)=>{0==i%this.config.columns&&t.push([]),t[t.length-1].push(e)}):this.config.horizontal?t[0]=this.buttons:t=this.buttons.map(t=>{const e=[];return e.push(t),e}));let i=null,s=0;t.length>0&&(i=t.map(t=>{const i=t.map(t=>{let i=this.config.buttonClass||"";return s===this.selectedBtnIndex&&(i+=" btn-selected"),e("td",null,e("kup-button",{iconUrl:this.config.iconUrl,label:t.value,iconClass:t.iconClass,fillspace:this.config.fillspace,showtext:this.config.showtext,showicon:this.config.showicon,rounded:this.config.rounded,textmode:this.config.textmode,transparent:this.config.transparent,buttonClass:i,flat:this.config.flat,"data-id":s++,onKupButtonClicked:t=>this.onBtnClicked(t),align:this.config.align,class:this.config.fillspace||!this.config.horizontal?"fillspace":""}))});return e("tr",null,i)}));let o="btn-container";this.config.fillspace&&(o+=" fillspace"),this.config.horizontal||(o+=" vertical");const n={};return this.config.btnStyle&&(this.config.btnStyle.fontColor&&(n["--kup-button_text-color"]=this.config.btnStyle.fontColor),this.config.btnStyle.underline&&(n["--kup-button_text-decoration"]="underline"),this.config.btnStyle.fontName&&(n["--kup-button_font-family"]=this.config.btnStyle.fontName),this.config.btnStyle.fontSize&&(n["--kup-button_font-size"]=this.config.btnStyle.fontSize),this.config.btnStyle.bold&&(n["--kup-button_font-weight"]=700),this.config.btnStyle.bckColor&&(n["--kup-button_main-color"]=this.config.btnStyle.bckColor),this.config.btnStyle.italic&&(n["--kup-button_font-style"]="italic"),this.config.borderColor&&(n["--kup-button_border-color"]=this.config.borderColor)),e("table",{class:o,style:n},e("tbody",null,i))}static get style(){return".btn-container{border-collapse:collapse}.btn-container.fillspace{width:100%}.btn-container tbody tr td{padding:3px}"}}class a{constructor(e){t(this,e),this.flat=!1,this.fillspace=!1,this.showtext=!0,this.showicon=!0,this.rounded=!1,this.transparent=!1,this.iconUrl="https://cdn.materialdesignicons.com/3.2.89/css/materialdesignicons.min.css",this.kupButtonClicked=i(this,"kupButtonClicked",7)}onBtnClickedHandler(){this.kupButtonClicked.emit({id:this.ketchupButtonEl.dataset.id})}_isHint(){return"Hint"===this.textmode}render(){let t=null;(!this._isHint()||this._isHint()&&this.flat)&&this.showtext&&this.label&&(t=e("span",{class:"button-text"},this.label));let i=null;this.showicon&&this.iconClass&&(i=e("span",{class:"button-icon "+this.iconClass}));let s="";this.flat?s="flat-btn":(this.buttonClass&&(s+=this.buttonClass),this.rounded&&(s+=" rounded"),this.transparent&&(s+=" transparent")),this.fillspace&&(s+=" fillspace"),this.align&&("right"===this.align?s+=" align-right":"left"===this.align&&(s+=" align-left")),s=s.trim();let o="";return this._isHint()&&(o=this.label),[e("link",{href:this.iconUrl,rel:"stylesheet",type:"text/css"}),e("button",{type:"button",class:s,title:o,onClick:()=>this.onBtnClickedHandler()},i,t)]}get ketchupButtonEl(){return s(this)}static get style(){return":host{--btn_font-style:var(--kup-button_font-style,\"normal\");--btn_font-size:var(--kup-button_font-size,14px);--btn_font-weight:var(--kup-button_font-weight,400);--btn_font-family:var(--kup-button_font-family,inherit);--btn_icon-size:var(--kup-button_icon-size,18px);--btn_main-color:var(--kup-button_main-color,#4e908f);--btn_text-color:var(--kup-button_text-color,#fff);--btn_text-color--transparent:var(--kup-button_text-color--transparent,grey);--btn_text-decoration:var(--kup-button_text-decoration,\"none\");--btn_icon-color:var(--kup-button_icon-color,#fff);--btn_icon--transparent:var(--kup-button_icon-color--transparent,grey);--btn_animation-duration:var(--kup-button_animation-duration,0.3s);--btn_border-color:var(--kup-button_border-color,#4e908f);--btn_opacity:var(--kup-button_opacity,1);--btn_box-shadow:var(--kup-button_box-shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5));--btn_border:var(--kup-button_border,none);--btn_border-radius:var(--kup-button_border-radius,2px);--btn_color-info:var(--kup-color-info,#6a8fd1);--btn_color-danger:var(--kup-danger-danger,#f0423c);--btn_color-danger--hover:var(--kup-danger-color--hover,#d91e18);--btn_color-warning:var(--kup-info-color,#ffd454);--btn_color-selected:var(--kup-info-color,#ffc107)}:host(.fillspace) button{width:100%}button{outline:none;opacity:var(--btn_opacity);background:var(--btn_main-color);border-radius:var(--btn_border-radius);border:var(--btn_border);-webkit-box-shadow:none;box-shadow:none;color:var(--btn_text-color);cursor:pointer;font-family:var(--btn_font-family);font-size:var(--btn_font-size);font-weight:var(--btn_font-weight);line-height:30px;padding:0 8px;text-align:center;-webkit-transition:opacity .2s ease-in-out,-webkit-box-shadow var(--btn_animation-duration);transition:opacity .2s ease-in-out,-webkit-box-shadow var(--btn_animation-duration);transition:box-shadow var(--btn_animation-duration),opacity .2s ease-in-out;transition:box-shadow var(--btn_animation-duration),opacity .2s ease-in-out,-webkit-box-shadow var(--btn_animation-duration);white-space:nowrap}button:hover{-webkit-box-shadow:var(--btn_box-shadow);box-shadow:var(--btn_box-shadow)}button>.button-icon{display:block;color:var(--btn_icon-color);fill:var(--btn_icon-color);float:left;width:var(--btn_icon-size)}button>.button-text{font-style:var(--btn_font-style);-webkit-text-decoration:var(--btn_text-decoration);text-decoration:var(--btn_text-decoration)}button.rounded{border-radius:15px}button.transparent{background-color:transparent;border:1px solid var(--btn_border-color);color:var(--btn_text-color--transparent)}button.transparent>.button-icon{color:var(--btn_icon-color--transparent);fill:var(--btn_icon-color--transparent)}button.btn-info{background:var(--btn_color-info)}button.btn-danger{background:var(--btn_color-danger)}button.btn-danger:hover{background:var(--btn_color-danger--hover)}button.btn-warning{background:var(--btn_color-warning)}button.btn-selected{background:var(--btn_color-selected)}button.flat-btn{background:none;border:none;color:var(--btn_main-color)}button.flat-btn:hover{-webkit-box-shadow:none;box-shadow:none}button.flat-btn .button-text{text-decoration:underline}button.flat-btn>.button-icon{color:var(--btn_main-color);fill:var(--btn_main-color)}button.align-right{text-align:right}button.align-right>.button-icon{float:right}button.align-left{text-align:left}button.fillspace{width:100%}"}}class h{constructor(e){t(this,e),this.checked=!1,this.disabled=!1,this.label="",this.setTabIndex=0,this.kupCheckboxBlur=i(this,"kupCheckboxBlur",6),this.kupCheckboxChange=i(this,"kupCheckboxChange",6),this.kupCheckboxFocus=i(this,"kupCheckboxFocus",6)}onCheckboxBlur(){this.kupCheckboxBlur.emit({checked:!!this.checkbox.checked})}onCheckboxChange(t){const e=!!t.target.checked;e!==this.checked&&(this.checked=e,this.kupCheckboxChange.emit({checked:e}))}onCheckboxFocus(){this.kupCheckboxFocus.emit({checked:!!this.checkbox.checked})}onHostFocus(){this.checkbox&&this.checkbox.focus()}render(){return e(o,{onFocus:this.onHostFocus.bind(this)},e("div",{class:"kup-checkbox"},e("input",{ref:t=>this.checkbox=t,"aria-label":this.label?this.label:null,checked:this.checked,disabled:this.disabled,tabindex:this.setTabIndex,type:"checkbox",onBlur:this.onCheckboxBlur.bind(this),onChange:this.onCheckboxChange.bind(this),onFocus:this.onCheckboxFocus.bind(this)}),e("span",{class:"kup-checkbox__check"})))}static get style(){return":host{--checkbox_border-color:var(--kup-checkbox_border-color,grey);--checkbox_border-color-disabled:var(--kup-checkbox_border-color-disabled,#b3b3b3);--checkbox_background-color:var(--kup-checkbox_background-color,#f5f5f5);--checkbox_size:var(--kup-checkbox_size,20px);--checkbox_tick-color:var(--kup-checkbox_tick-color,#4e908f);--checkbox_tick-color-disabled:var(--kup-checkbox_tick-color-disabled,#86bebd)}.kup-checkbox,:host{display:inline-block}.kup-checkbox{border:calc(var(--checkbox_size) / 10) solid var(--checkbox_border-color);border-radius:calc(var(--checkbox_size) / 10);background:var(--checkbox_background-color);height:var(--checkbox_size);position:relative;width:var(--checkbox_size);z-index:0}.kup-checkbox>input{cursor:pointer;height:100%;left:0;margin:0;opacity:0;position:absolute;top:0;width:100%;z-index:2}.kup-checkbox>input:checked~.kup-checkbox__check{border-bottom-color:var(--checkbox_tick-color);border-right-color:var(--checkbox_tick-color);margin-left:calc(var(--checkbox_size) / 5 * 2);margin-top:calc(var(--checkbox_size) / 4);-webkit-transform:rotate(45deg) scale(1.7);transform:rotate(45deg) scale(1.7);-webkit-transition:all .2s ease 0s;transition:all .2s ease 0s}.kup-checkbox .kup-checkbox__check{border-bottom:calc(var(--checkbox_size) / 10) solid transparent;border-right:calc(var(--checkbox_size) / 10) solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:calc(var(--checkbox_size) / 5 * 2 - var(--checkbox_size) / 20);position:relative;-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1);-webkit-transition:all .2s ease 0s;transition:all .2s ease 0s;width:calc(var(--checkbox_size) / 5)}:host([disabled]) .kup-checkbox{border-color:var(--checkbox_border-color-disabled)}:host([disabled]) .kup-checkbox>input{cursor:auto}:host([disabled]) .kup-checkbox>input:checked~.kup-checkbox__check{border-bottom-color:var(--checkbox_tick-color-disabled);border-right-color:var(--checkbox_tick-color-disabled)}"}}function c(t="def"){return(new Date).getTime()+t.trim().replace(/\s/g,"_")}function r(t,e){for(;e;){if(e===t)return!0;e=e.parentElement}return!1}function u(t,e={isRight:!1,isTop:!1},i=document.documentElement){if(!t)return;let s={},o=t.getBoundingClientRect(),n=i.scrollLeft,l=i.scrollTop;return e.isRight?s.right=i.offsetWidth-o.left-o.width:s.left=o.left+n,e.isTop?s.bottom=l+o.top:s.top=l+o.top+o.height,s}class d{constructor(e){t(this,e),this.displayedField="id",this.initialValue=null,this.isClearable=!1,this.isFilterable=!0,this.items=[],this.label="",this.valueField="id",this.usePortal=!1,this.value="",this.filter="",this.isOpen=!1,this.selected=null,this.portalRef=null,this.clickFunction=this.onDocumentClick.bind(this),this.comboPosition={isRight:!1,isTop:!1},this.constructedStyleSheet=null,this.internalCssVars=["--cmb_font-size","--cmb_border-color","--cmb_border-color--selected","--cmb_tr-duration","--cmb_icon-color","--cmb_icon-color--hover","--cmb_menu-background","--cmb_menu-background--hover","--kup-combo_menu_text","--kup-combo_menu_text--hover","--cmb_background-color","--cmb_background-color--hover","--cmb_text-color","--cmb_text-color--hover","--cmb_border-radius","--cmb_box-shadow"],this.baseClass="kup-combo",this.ketchupComboSelected=i(this,"ketchupComboSelected",6)}componentWillLoad(){this.reflectInitialValue(this.initialValue)}componentDidLoad(){document.addEventListener("click",this.clickFunction)}componentDidUnload(){document.removeEventListener("click",this.clickFunction)}async closeCombo(){this.isOpen=!1}async openCombo(){this.comboPosition=this.calcBoxPosition(),this.isOpen=!0}reflectInitialValue(t,e){e&&t[this.valueField]===e[this.valueField]||this.onComboSelected(t,e)}reflectValueField(t){this.value=this.selected?this.selected[t]:""}calcBoxPosition(){const t=document.documentElement.clientWidth,e=document.documentElement.clientHeight,{height:i,left:s,top:o,width:n}=this.comboText.getBoundingClientRect();return{isRight:s+n/2>t/2,isTop:o+i/2>e/2}}onClearClick(){this.onComboSelected(null,this.selected)}onComboClick(){this.openCombo()}async onDocumentClick(t){let e=null;this.usePortal&&(e=await this.portalRef.getPortalInstance());try{t.composedPath().indexOf(this.comboEl)<0&&t.composedPath().indexOf(e)<0&&this.closeCombo()}catch(i){const s=t.target;r(this.comboEl,s)||r(e,s)||this.closeCombo()}}onFilterUpdate(t){this.filter=t.detail.value.toLowerCase()}onItemSelected(t){t[this.valueField]!==this.value&&this.onComboSelected(t,this.selected),this.closeCombo()}onComboSelected(t,e){this.ketchupComboSelected.emit({value:t,oldValue:e,info:{obj:this.obj}}),this.selected=t,this.value=t?t[this.valueField]:null}composeList(){let t=null;return this.isFilterable&&(t=e("div",{class:this.baseClass+"__filter"},e("kup-text-input",{onKetchupTextInputUpdated:this.onFilterUpdate.bind(this)}))),e("div",{class:this.baseClass+"__menu"+(this.isOpen?" is-open":"")+(this.comboPosition.isRight?" is-right":"")+(this.comboPosition.isTop?" is-top":"")+(this.usePortal?" is-using-portal":"")},t,e("ul",{class:this.baseClass+"__list"},this.items.filter(t=>!this.filter||t[this.displayedField].toLowerCase().indexOf(this.filter)>=0).map(t=>e("li",{onClick:()=>this.onItemSelected(t)},e("span",null,t[this.displayedField])))))}render(){const t=this.baseClass+"__container";return[e("div",{class:t+(this.isClearable?" "+t+"--clearable":""),ref:t=>this.comboText=t},e("span",{class:this.baseClass+"__current-value",onClick:this.onComboClick.bind(this)},e("span",{class:"value-text"},this.selected?this.selected[this.displayedField]:""),e("svg",{class:this.baseClass+"__icon "+this.baseClass+"__chevron"+(this.isOpen?" "+this.baseClass+"__chevron--open":""),version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},e("path",{d:"M7,10L12,15L17,10H7Z"}))),this.isClearable?e("button",{"aria-label":"Close",class:this.baseClass+"__clear",role:"button",onClick:this.onClearClick.bind(this)},e("svg",{class:this.baseClass+"__icon",viewBox:"0 0 24 24"},e("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))):null),this.usePortal?e("kup-portal",{isVisible:this.isOpen,mirroredCssVars:this.internalCssVars,nodes:this.composeList(),portalParentRef:this.comboEl,ref:t=>this.portalRef=t,refOffset:u(this.comboText,this.comboPosition),styleNode:this.comboEl.shadowRoot.querySelector("style")}):this.composeList()]}get comboEl(){return s(this)}static get watchers(){return{initialValue:["reflectInitialValue"],valueField:["reflectValueField"]}}static get style(){return":host{--cmb_font-size:var(--kup-combo_input_font-size,14px);--cmb_border-color:var(--kup-combo_input_border-color,#bdbdbd);--cmb_border-color--selected:var(--kup-combo_input_border-color--selected,#676767);--cmb_tr-duration:var(--kup-combo_input_transition-duration,0.6s);--cmb_icon-color:var(--kup-combo_icon_color,grey);--cmb_icon-color--hover:var(--kup-combo_icon_color--hover,#676767);--cmb_menu-background:var(--kup-combo_menu_background,#fff);--cmb_menu-background--hover:var(--kup-combo_menu_background--hover,#f0f0f0);--cmb_menu-text:var(--kup-combo_menu_text,grey);--cmb_menu-text--hover:var(--kup-combo_menu_text--hover,#555);--cmb_background-color:var(--kup-combo_background-color,#fff);--cmb_background-color--hover:var(--kup-combo_background-color--hover,#f0f0f0);--cmb_text-color:var(--kup-combo_text-color,grey);--cmb_text-color--hover:var(--kup-combo_text-color--hover,#676767);--cmb_border-radius:var(--kup-combo_border-radius,2px);--cmb_box-shadow:var(--kup-combo_box-shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5));display:inline-block;position:relative;z-index:1}.kup-combo__container{background-color:var(--cmb_background-color);color:var(--cmb_text-color);border:1px solid var(--cmb_border-color);border-radius:var(--cmb_border-radius);-webkit-box-sizing:border-box;box-sizing:border-box;display:-ms-inline-flexbox;display:inline-flex;outline:none;-webkit-transition:border-color .25s ease;transition:border-color .25s ease}.kup-combo__container:focus,.kup-combo__container:hover{border-color:var(--cmb_border-color--selected)}.kup-combo__container:focus .value-text,.kup-combo__container:hover .value-text{color:var(--cmb_text-color--hover)}.kup-combo__container:focus svg,.kup-combo__container:hover svg{fill:var(--cmb_icon-color--hover)}.kup-combo__icon{fill:var(--cmb_icon-color);-webkit-transition:fill var(--cmb_tr-duration),-webkit-transform var(--cmb_tr-duration);transition:fill var(--cmb_tr-duration),-webkit-transform var(--cmb_tr-duration);transition:fill var(--cmb_tr-duration),transform var(--cmb_tr-duration);transition:fill var(--cmb_tr-duration),transform var(--cmb_tr-duration),-webkit-transform var(--cmb_tr-duration)}.kup-combo__current-value{-ms-flex-align:center;align-items:center;cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;font-size:var(--cmb_font-size);-ms-flex-pack:center;justify-content:center}.kup-combo__current-value .value-text{padding:0 .75rem}.kup-combo__current-value svg{fill:#bdbdbd}.kup-combo__chevron{margin-left:16px}.kup-combo__chevron--open{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.kup-combo__clear{-ms-flex-align:center;align-items:center;background-color:transparent;border:none;cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;margin:0;outline:none;padding:4px}.kup-combo__clear:hover>svg{fill:var(--cmb_icon-color--hover)}.kup-combo__menu{background-color:var(--cmb_menu-background);color:var(--cmb_menu-text);border-radius:0;-webkit-box-shadow:var(--cmb_box-shadow);box-shadow:var(--cmb_box-shadow);display:inline-block;left:0;opacity:0;position:absolute;-webkit-transition:opacity var(--cmb_tr-duration);transition:opacity var(--cmb_tr-duration);top:100%;visibility:hidden;z-index:1}.kup-combo__menu.is-open{opacity:1;visibility:visible}.kup-combo__menu.is-top{bottom:100%;top:auto}.kup-combo__menu.is-right{left:auto;right:0}.kup-combo__menu.is-using-portal{position:relative}.kup-combo__filter{-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;padding:4px}.kup-combo__list{display:block;list-style-type:none;padding:0;min-width:80px;max-height:400px;margin:0;overflow:auto}.kup-combo__list>li{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;display:block;padding:6px 8px 5px;-webkit-transition:color var(--cmb_tr-duration),background-color var(--cmb_tr-duration);transition:color var(--cmb_tr-duration),background-color var(--cmb_tr-duration)}.kup-combo__list>li.is-selected,.kup-combo__list>li:hover{background-color:var(--cmb_menu-background--hover);color:var(--cmb_menu-text--hover)}.kup-combo__list>li:last-of-type{border-bottom:none}"}}class p{constructor(e){t(this,e),this.config="",this.showSubmit=!1,this.submitLabel="",this.submitPos="right",this.label="",this.labelPos="left",this.propagate={},this.extensions={},this.radioGeneratedName=c("value"),this.currentValue=null,this.previousValue=null,this.onChangeInstance=this.onChange.bind(this),this.onSubmitInstance=this.onSubmit.bind(this),this.ketchupFldChanged=i(this,"ketchupFldChanged",6),this.ketchupFldSubmit=i(this,"ketchupFldSubmit",6)}updateInternalState(){let t;t="string"==typeof this.config&&this.config?JSON.parse(this.config):this.config;const e=Object.keys(t);let i={};e.forEach(e=>{e in this?this[e]=t[e]:i[e]=t[e]}),this.propagate=i}componentWillLoad(){this.updateInternalState()}onChange(t){const{value:e,info:i}=t.detail;this.ketchupFldChanged.emit({originalEvent:t,oldValue:this.currentValue,value:e,info:i}),this.previousValue=this.currentValue,this.currentValue=e}onSubmit(t){this.ketchupFldSubmit.emit({originalEvent:t,value:this.currentValue,oldValue:this.previousValue,info:{obj:t.detail.info&&t.detail.info.obj?t.detail.info.obj:void 0}})}async getCurrentValue(){return this.currentValue}render(){let t=[],i=null,s=null;this.label.trim().length&&(i=e("label",{class:"kup-fld__label kup-fld--"+this.labelPos},this.label)),this.showSubmit&&(s=e("kup-button",{class:"kup-fld__submit kup-fld--"+this.submitPos,label:this.submitLabel,onKupButtonClicked:this.onSubmitInstance}));const o="top"===this.labelPos,n="top"===this.submitPos;(o||n)&&t.push(e("div",{class:"kup-fld__top-container"},o&&i?i:null,n&&s?s:null)),!o&&i&&t.push(i);let l="",a={};switch(this.type.toLowerCase()){case"cmb":a.displayedField="value",a.valueField="value",a.onKetchupComboSelected=this.onChangeInstance,l="combo";break;case"rad":a.valueField="obj",a.radioName=this.radioGeneratedName,a.onKetchupRadioChanged=this.onChangeInstance,l="radio";break;case"itx":a.onKetchupTextInputUpdated=this.onChangeInstance,a.onKetchupTextInputSubmit=this.onSubmitInstance,l="text-input";break;case"fup":l="upload"}return t.push(e("kup-"+l,Object.assign({class:"kup-fld__component",items:this.data},a,this.propagate))),!n&&s&&t.push(s),t}static get watchers(){return{config:["updateInternalState"]}}static get style(){return":host{-ms-flex-wrap:wrap;flex-wrap:wrap;--fld_comp-margin:var(--kup-fld_component-margin,8px)}.kup-fld__top-container,:host{display:-ms-flexbox;display:flex}.kup-fld__top-container{-ms-flex-align:center;align-items:center;-ms-flex-order:0;order:0;width:100%}.kup-fld__label{margin:var(--fld_comp-margin);-ms-flex-order:1;order:1}.kup-fld__label.kup-fld--right{-ms-flex-order:4;order:4}.kup-fld__component{margin:var(--fld_comp-margin);-ms-flex-order:3;order:3}.kup-fld__submit{margin:var(--fld_comp-margin);-ms-flex-order:2;order:2}.kup-fld__submit.kup-fld--right{-ms-flex-order:5;order:5}"}}class b{constructor(e){t(this,e),this.arcThickness=30,this.colors=["var(--gau_first-color)","var(--gau_second-color)","var(--gau_third-color)"],this.labelDistance=20,this.maxValue=100,this.measurementUnit="",this.minValue=-100,this.reverseColors=!1,this.showLabels=!0,this.showMaxmin=!0,this.showValue=!0,this.size=300,this.value=0,this.valueSize=0,this.needleCircle=!1,this.onlyValue=!1,this.widthComponent="22vw",this.arcGenerator=d3.arc(),this.maxValuePositive=0}percToDeg(t){return 360*t}degToRad(t){return t*Math.PI/180}percToRad(t){return this.degToRad(this.percToDeg(t))}calculateValuePercentage(t=0){return(t-this.minValue)/this.maxValuePositive}calculateValueFontSize(){return this.valueSize>2?"3vw":this.valueSize>1?"2.5vw":this.valueSize>0?"2vw":"1.5vw"}paintNeedle(t,e,i,s,o=0){let n,l,a,h,c,r;return h=this.percToRad(o/2),c=i-t*Math.cos(h),r=s-t*Math.sin(h),"M "+(n=i-e*Math.cos(h-Math.PI/2))+" "+(l=s-e*Math.sin(h-Math.PI/2))+" L "+c+" "+r+" L "+(a=i-e*Math.cos(h+Math.PI/2))+" "+(s-e*Math.sin(h+Math.PI/2))}render(){this.maxValuePositive=Math.abs(this.minValue-this.maxValue);const t=this.size/2,i=this.size/20,s=t-2*this.arcThickness,o=t+i+1*this.labelDistance,n=[];this.onlyValue?n.push(this.value):((this.firstThreshold||0===this.firstThreshold)&&n.push(this.firstThreshold),(this.secondThreshold||0===this.secondThreshold)&&n.push(this.secondThreshold));const l=[this.minValue,...n,this.maxValue],a=[];let h;if(this.onlyValue){let t=this.reverseColors?this.colors.slice().reverse():this.colors;h=[this.value<this.firstThreshold?t[0]:this.value<this.secondThreshold?t[1]:t[2],"var(--gau_empty-color)"]}else h=this.reverseColors?this.colors.slice().reverse():this.colors;for(let i=0;i<l.length-1;i++){const s=this.arcGenerator({innerRadius:t-this.arcThickness,outerRadius:t,startAngle:this.calculateValuePercentage(l[i])*Math.PI,endAngle:this.calculateValuePercentage(l[i+1])*Math.PI});a.push(e("path",{d:s,style:{fill:h[i]?h[i]:"#000000"}}))}const c=this.showLabels||this.showMaxmin?l.map(i=>{const o=this.calculateValuePercentage(i);let n="end";o>.5?n="start":.5===o&&(n="middle");const l=this.percToRad(o/2);let a=t-(s+2)*Math.cos(l),h=t-(s+2)*Math.sin(l),c="";return o>0&&o<1?this.showLabels&&!this.onlyValue&&(c=e("text",{class:"gauge__label-text","text-anchor":n,x:a,y:h},i)):this.showMaxmin&&(0===o?(a=this.arcThickness,h=t+this.labelDistance):(a=this.size-this.arcThickness,h=t+this.labelDistance),c=e("text",{class:"gauge__label-text","text-anchor":n,x:a,y:h},i)),c}):[],r={fontSize:this.calculateValueFontSize()};return e("div",{class:"gauge__container"},e("svg",{class:"gauge",style:{width:this.widthComponent},viewBox:`0 0 ${this.size} ${o}`},e("g",{transform:`rotate(-90) translate(-${t}, ${t})`},a),this.needleCircle?e("circle",{class:"gauge__needle-base",cx:t,cy:t,r:i}):null,e("path",{class:"gauge__needle",d:this.paintNeedle(s,i,t,t,this.calculateValuePercentage(this.value))}),c),e("div",null,this.showValue?e("div",{class:"gauge__value-text","text-anchor":"middle",style:r},this.value+" "+this.measurementUnit):null))}static get style(){return":host{--gau_needle-color:var(--kup-gauge_needle-color,#676767);--gau_top-lateral-padding:var(--kup-gauge_top-lateral-padding,30px);--gau_threshold-color:var(--kup-gauge_threshold-color,#676767);--gau_value-color:var(--kup-gauge_value-color,#676767);--gau_empty-color:var(--kup-gauge_empty-color,#e2e2e2);--gau_first-color:var(--kup-gauge_first-color,#eb4d4d);--gau_second-color:var(--kup-gauge_second-color,#f2b203);--gau_third-color:var(--kup-gauge_third-color,#02a045);display:inline-block}:host .gauge{height:auto;overflow:visible}:host .gauge__container{padding:var(--gau_top-lateral-padding) var(--gau_top-lateral-padding) 0}:host .gauge__label-text{fill:var(--gau_threshold-color);text-align:center}:host .gauge__value-text{fill:var(--gau_value-color);color:var(--gau_value-color);text-align:center}:host .gauge__needle,:host .gauge__needle-base{fill:var(--gau_needle-color)}"}}class m{constructor(e){t(this,e),this.label="Open in a new window",this.isButton=!1,this.src="",this.ketchupHtmlError=i(this,"ketchupHtmlError",6),this.ketchupHtmlLoaded=i(this,"ketchupHtmlLoaded",6)}onFrameError(){this.ketchupHtmlError.emit()}onFrameLoaded(){this.ketchupHtmlLoaded.emit()}render(){return this.isButton?e("a",{"aria-label":this.label,href:this.src,rel:"noopener",target:"_blank"},e("kup-button",{align:"right",iconClass:"mdi mdi-open-in-new",label:this.label})):e("iframe",{class:"ketchup-frame",onError:this.onFrameError.bind(this),onLoad:this.onFrameLoaded.bind(this),src:this.src})}static get style(){return":host{--htm_height:var(--kup-html_height,600px);--htm_width:var(--kup-html_width,100%);display:inline-block;width:100%}:host([is-button]){display:inline-block;width:auto}.ketchup-frame{height:var(--htm_height);width:var(--htm_width)}"}}class f{constructor(e){t(this,e),this.isVisible=!1,this.mirroredCssVars=[],this.refOffset={},this.portalRootNode=document.body,this.instance=document.createElement("kup-portal-instance"),this.supportsShadowRoot=!1,this.supportsAdoptedStyle=!1}componentWillLoad(){this.portalRootNode.appendChild(this.instance),this.instance.shadowRoot&&(this.supportsShadowRoot=!0,"adoptedStyleSheets"in this.instance.shadowRoot&&(this.supportsAdoptedStyle=!0))}componentDidUpdate(){if(this.instance.vNodes=this.nodes,this.styleNode){const t=this.styleNode.cloneNode(!0);t.setAttribute("data-portal-style","true"),this.instance.styleNode=t}else this.portalParentRef&&this.supportsAdoptedStyle&&(this.instance.additionalAdoptedStyleSheets=this.portalParentRef.shadowRoot.adoptedStyleSheets.slice());!function(t,e){const i=t.style;e.left?(i.left=e.left+"px",i.right="initial"):e.right&&(i.right=e.right+"px",i.left="initial"),e.top?(i.top=e.top+"px",i.bottom="initial",i.transform=""):e.bottom&&(i.top=e.bottom+"px",i.bottom="initial",i.transform="translateY(-100%)")}(this.instance,this.refOffset),this.instance.isVisible=this.isVisible,this.computeCssVars(this.portalParentRef,this.mirroredCssVars)}componentDidUnload(){this.portalRootNode.removeChild(this.instance)}onPortalRootNodeChange(t){t.appendChild(this.instance)}computeCssVars(t,e){if(window){const i=window.getComputedStyle(t);e.forEach(t=>{this.instance.style.setProperty(t,i.getPropertyValue(t))})}}async getPortalInstance(){return this.instance}render(){return null}static get watchers(){return{portalRootNode:["onPortalRootNodeChange"]}}}class g{constructor(e){t(this,e),this.additionalAdoptedStyleSheets=[],this.isVisible=!1,this.vNodes=null,this.initialStyleSheets=[]}componentWillRender(){!this.port.shadowRoot.querySelector("style[data-portal-style]")&&this.styleNode&&this.port.shadowRoot.insertBefore(this.styleNode,this.port.shadowRoot.querySelector("style"))}componentDidUpdate(){this.additionalAdoptedStyleSheets&&this.additionalAdoptedStyleSheets.length&&(this.port.shadowRoot.adoptedStyleSheets=[this.port.shadowRoot.adoptedStyleSheets[0],...this.additionalAdoptedStyleSheets])}render(){return this.vNodes}get port(){return s(this)}static get style(){return":host{display:none!important;position:absolute!important;z-index:99999!important}:host([is-visible]){display:inline-block!important}"}}class k{constructor(e){t(this,e),this.label="",this.direction="horizontal",this.displayedField="id",this.initialValue={label:"",value:""},this.items=[],this.radioName="",this.valueField="id",this.selectedRadio=null,this.ketchupRadioChanged=i(this,"ketchupRadioChanged",6)}checkDirection(t){if(!/horizontal|vertical/.test(t))throw new Error("kup-radio: direction must be horizontal or vertical.")}componentWillLoad(){this.reflectInitialValue(this.initialValue)}reflectInitialValue(t,e){e&&t[this.valueField]===e[this.valueField]||this.onRadioChanged(t)}onRadioChanged(t){this.ketchupRadioChanged.emit({value:t,oldValue:this.selectedRadio,info:{}}),this.selectedRadio=t}radioElementsComposer(){return this.items.map(t=>{const i=c(t[this.valueField]);return e("li",{class:"kup-radio__item"+(this.selectedRadio&&this.selectedRadio[this.valueField]===t[this.valueField]?" kup-radio__item--selected":"")},e("div",null,e("input",{id:i,type:"radio",name:this.radioName,value:t[this.valueField],onChange:this.onRadioChanged.bind(this,t)})),e("label",{htmlFor:i},t[this.displayedField]))})}render(){let t="kup-radio__group";return"horizontal"===this.direction&&(t+=" kup-radio__group--horizontal"),e("div",null,this.label?e("p",null,this.label):null,e("ul",{class:t},this.radioElementsComposer()))}static get watchers(){return{direction:["checkDirection"],initialValue:["reflectInitialValue"]}}static get style(){return":host{--rad_font-size:var(--kup-radio_font-size,14px);--rad_border-color:var(--kup-radio_border-color,grey);--rad_border-color--selected:var(--kup-radio_border-color,#676767);--rad_color:var(--kup-radio_color,#4e908f);--rad_tr-duration:var(--kup-radio_transition-duration,0.6s)}.kup-radio__group{list-style-type:none;margin:0;padding:0;position:relative;z-index:0}.kup-radio__group.kup-radio__group--horizontal{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}.kup-radio__item{display:-ms-flexbox;display:flex;margin:10px 12px}.kup-radio__item,.kup-radio__item>div{-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;position:relative;z-index:0}.kup-radio__item>div{display:-ms-inline-flexbox;display:inline-flex;height:calc(var(--rad_font-size) * 1.4);width:calc(var(--rad_font-size) * 1.4)}.kup-radio__item>div:after,.kup-radio__item>div:before{border-radius:50%;-webkit-box-sizing:border-box;box-sizing:border-box;content:\"\"}.kup-radio__item>div:before{border:1px solid var(--rad_border-color);height:100%;left:0;position:absolute;top:0;-webkit-transition:border-color var(--rad_tr-duration);transition:border-color var(--rad_tr-duration);width:100%;z-index:0}.kup-radio__item>div:after{background-color:var(--rad_color);height:calc(100% - 6px);position:relative;opacity:0;-webkit-transition:opacity var(--rad_tr-duration);transition:opacity var(--rad_tr-duration);width:calc(100% - 6px);z-index:1}.kup-radio__item>div>input{cursor:pointer;height:100%;left:0;margin:0;opacity:0;position:absolute;top:0;width:100%;z-index:2}.kup-radio__item--selected div:before{border-color:var(--rad_border-color--selected)}.kup-radio__item--selected div:after{opacity:1}.kup-radio__item label{cursor:pointer;font-size:var(--rad_font-size);margin-left:10px}"}}var v=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},C="object"==typeof n&&n&&n.Object===Object&&n,_="object"==typeof self&&self&&self.Object===Object&&self,x=C||_||Function("return this")(),y=x,S=function(){return y.Date.now()},T=x.Symbol,L=Object.prototype,w=L.hasOwnProperty,E=L.toString,V=T?T.toStringTag:void 0,I=Object.prototype.toString,F=T?T.toStringTag:void 0,R=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?function(t){var e=w.call(t,V),i=t[V];try{t[V]=void 0;var s=!0}catch(t){}var o=E.call(t);return s&&(e?t[V]=i:delete t[V]),o}(t):function(t){return I.call(t)}(t)},P=/^\s+|\s+$/g,B=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,j=/^0o[0-7]+$/i,D=parseInt,N=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==R(t)}(t))return NaN;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(P,"");var i=O.test(t);return i||j.test(t)?D(t.slice(2),i?2:8):B.test(t)?NaN:+t},H=Math.max,M=Math.min,z=function(t,e,i){var s,o,n,l,a,h,c=0,r=!1,u=!1,d=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var i=s,n=o;return s=o=void 0,c=e,l=t.apply(n,i)}function b(t){var i=t-h;return void 0===h||i>=e||i<0||u&&t-c>=n}function m(){var t=S();if(b(t))return f(t);a=setTimeout(m,function(t){var i=e-(t-h);return u?M(i,n-(t-c)):i}(t))}function f(t){return a=void 0,d&&s?p(t):(s=o=void 0,l)}function g(){var t=S(),i=b(t);if(s=arguments,o=this,h=t,i){if(void 0===a)return function(t){return c=t,a=setTimeout(m,e),r?p(t):l}(h);if(u)return clearTimeout(a),a=setTimeout(m,e),p(h)}return void 0===a&&(a=setTimeout(m,e)),l}return e=N(e)||0,v(i)&&(r=!!i.leading,n=(u="maxWait"in i)?H(N(i.maxWait)||0,e):n,d="trailing"in i?!!i.trailing:d),g.cancel=function(){void 0!==a&&clearTimeout(a),c=0,s=h=o=a=void 0},g.flush=function(){return void 0===a?l:f(S())},g};class U{constructor(e){t(this,e),this.initialValue="",this.inputType="text",this.isClearable=!1,this.label="",this.maxLength=524288,this.debounce=400,this.placeholder="",this.value="",this.elementId=c("kup-input"),this.classInputText="kup-input-text",this.inputBlur=i(this,"ketchupTextInputBlurred",6),this.inputFocused=i(this,"ketchupTextInputFocused",6),this.ketchupTextInputSubmit=i(this,"ketchupTextInputSubmit",6),this.ketchupTextInputUpdated=i(this,"ketchupTextInputUpdated",6)}debounceChanged(){this.ketchupTextInputUpdated=function(t,e){const i=t._original||t;return{_original:t,emit:z(i.emit.bind(i),e)}}(this.ketchupTextInputUpdated,this.debounce)}componentWillLoad(){this.value=this.initialValue}componentDidLoad(){this.debounceChanged()}async triggerFocus(){this.inputEl.focus(),this.textInput.focus()}onClearClick(){const t=this.value;this.value="",this.ketchupTextInputUpdated.emit({value:this.value,oldValue:t,info:{obj:this.obj}}),setTimeout(()=>this.triggerFocus(),10)}onKeyDown(t){"Enter"===t.key&&(t.preventDefault(),this.ketchupTextInputSubmit.emit({value:this.value,oldValue:this.value,info:{obj:this.obj}}))}onInputBlurred(t){const{target:e}=t;this.inputBlur.emit({value:e.value,oldValue:this.value,info:{obj:this.obj}}),this.value=e.value,this.inputWrapperEl.classList.remove("focused")}onInputFocused(t){const{target:e}=t;this.inputFocused.emit({value:e.value,oldValue:this.value,info:{obj:this.obj}}),this.value=e.value,this.inputWrapperEl.classList.add("focused")}onInputUpdated(t){const{target:e}=t;this.ketchupTextInputUpdated.emit({value:e.value,oldValue:this.value,info:{obj:this.obj}}),this.value=e.value}render(){const t=this.classInputText+"__container";let i=null;return this.label&&(i=e("label",{htmlFor:this.elementId},this.label)),e("div",{class:t+(this.isClearable?" "+t+"--clearable":"")},i,e("div",{class:this.classInputText+"__input-wrapper",ref:t=>this.inputWrapperEl=t},e("slot",{name:"left"}),e("input",{id:this.elementId,class:this.classInputText,maxlength:this.maxLength,ref:t=>this.textInput=t,tabindex:"0",type:this.inputType,value:this.value,onBlur:this.onInputBlurred.bind(this),onInput:this.onInputUpdated.bind(this),onFocus:this.onInputFocused.bind(this),onKeyDown:this.onKeyDown.bind(this),placeholder:this.placeholder}),this.isClearable?e("button",{"aria-label":"Close",class:this.classInputText+"__clear",role:"button",onClick:this.onClearClick.bind(this)},e("svg",{viewBox:"0 0 24 24"},e("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))):null))}get inputEl(){return s(this)}static get watchers(){return{debounce:["debounceChanged"]}}static get style(){return":host{--itx_color:var(--kup-text-input_color,#000);--itx_font-size:var(--kup-text-input_font-size,14px);--itx_border-color:var(--kup-text-input_border-color,grey);--itx_border-color--selected:var(--kup-text-input_border-color--selected,#4e908f);--itx_tr-duration:var(--kup-text-input_transition-duration,0.6s);--itx_icon-color:var(--kup-text-input_icon-color,grey);--itx_icon-color--hover:var(--kup-text-input_icon-color--hover,#676767);--itx_placeholder-color:var(--kup-text-input_placeholder-color,#bebebe);--itx_background-color:var(--kup-text-input_background-color,transparent);display:inline-block}label{margin-right:.5rem}.kup-input-text{color:var(--itx_color);background-color:transparent;border:none;outline:none;padding:4px 6px;position:relative;-webkit-transition:background-color var(--itx_tr-duration);transition:background-color var(--itx_tr-duration);z-index:0}.kup-input-text__input-wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:var(--itx_background-color);border:1px solid var(--itx_border-color);border-radius:2px;-webkit-box-sizing:border-box;box-sizing:border-box}.kup-input-text__input-wrapper.focused{border-color:var(--itx_border-color--selected)}.kup-input-text__container{display:inline-block;position:relative;z-index:0}.kup-input-text::-webkit-input-placeholder{color:var(--itx_placeholder-color)}.kup-input-text::-moz-placeholder{color:var(--itx_placeholder-color)}.kup-input-text:-ms-input-placeholder{color:var(--itx_placeholder-color)}.kup-input-text::-ms-input-placeholder{color:var(--itx_placeholder-color)}.kup-input-text::placeholder{color:var(--itx_placeholder-color)}.kup-input-text__clear{-ms-flex-align:center;align-items:center;background-color:transparent;border:none;cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-pack:center;justify-content:center;outline:none;padding:4px;z-index:1}.kup-input-text__clear>svg{fill:var(--itx_icon-color);height:var(--itx_font-size);-webkit-transition:fill var(--itx_tr-duration);transition:fill var(--itx_tr-duration);width:var(--itx_font-size)}.kup-input-text__clear:hover>svg{fill:var(--itx_icon-color--hover)}"}}export{l as kup_btn,a as kup_button,h as kup_checkbox,d as kup_combo,p as kup_fld,b as kup_gauge,m as kup_html,f as kup_portal,g as kup_portal_instance,k as kup_radio,U as kup_text_input};