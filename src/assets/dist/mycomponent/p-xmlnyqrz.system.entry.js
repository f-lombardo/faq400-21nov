var __awaiter=this&&this.__awaiter||function(t,e,o,i){return new(o||(o=Promise))(function(r,n){function s(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i["throw"](t))}catch(t){n(t)}}function l(t){t.done?r(t.value):new o(function(e){e(t.value)}).then(s,a)}l((i=i.apply(t,e||[])).next())})};var __generator=this&&this.__generator||function(t,e){var o={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,r,n,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(t){return function(e){return l([t,e])}}function l(s){if(i)throw new TypeError("Generator is already executing.");while(o)try{if(i=1,r&&(n=s[0]&2?r["return"]:s[0]?r["throw"]||((n=r["return"])&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;if(r=0,n)s=[s[0]&2,n.value];switch(s[0]){case 0:case 1:n=s;break;case 4:o.label++;return{value:s[1],done:false};case 5:o.label++;r=s[1];s=[0];continue;case 7:s=o.ops.pop();o.trys.pop();continue;default:if(!(n=o.trys,n=n.length>0&&n[n.length-1])&&(s[0]===6||s[0]===2)){o=0;continue}if(s[0]===3&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(s[0]===6&&o.label<n[1]){o.label=n[1];n=s;break}if(n&&o.label<n[2]){o.label=n[2];o.ops.push(s);break}if(n[2])o.ops.pop();o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t];r=0}finally{i=n=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-a690b875.system.js","./p-2877f8e8.system.js","./p-9f461246.system.js"],function(t){"use strict";var e,o,i,r,n,s,a,l,u,c,h,p,d,f,g,v,w,m,b,y,R,C,k,P,x;return{setters:[function(t){e=t.r;o=t.c;i=t.h},function(){},function(t){r=t.L;n=t.P;s=t.j;a=t.k;l=t.p;u=t.f;c=t.S;h=t.l;p=t.s;d=t.d;f=t.o;g=t.e;v=t.n;w=t.i;m=t.q;b=t.r;y=t.a;R=t.c;C=t.t;k=t.h;P=t.K;x=t.u}],execute:function(){var S=function(){function t(t){var i=this;e(this,t);this.columnsWidth=[];this.enableSortableColumns=false;this.expandGroups=false;this.filters={};this.globalFilter=false;this.groups=[];this.headerIsPersistent=false;this.multiSelection=false;this.loadMoreLimit=1e3;this.loadMoreStep=60;this.loadMoreMode=r.PROGRESSIVE_THRESHOLD;this.paginatorPos=n.TOP;this.rowsPerPage=10;this.showHeader=true;this.showFilters=false;this.showGrid=s.ROW;this.showLoadMore=false;this.sortEnabled=true;this.sort=[];this.sortableColumnsMutateData=true;this.globalFilterValue="";this.currentPage=1;this.currentRowsPerPage=10;this.selectedRows=[];this.groupState={};this.openedMenu=null;this.density="medium";this.topDensityPanelVisible=false;this.botDensityPanelVisible=false;this.renderedRows=[];this.loadMoreEventCounter=0;this.loadMoreEventPreviousQuantity=0;this.columnsAreBeingDragged=false;this.dragFlagAttribute="columns-dragging";this.dragOverAttribute="drag-over";this.dragStarterAttribute="drag-starter";this.onDocumentClick=function(){i.topDensityPanelVisible=false;i.botDensityPanelVisible=false};this.kupAutoRowSelect=o(this,"kupAutoRowSelect",6);this.kupRowSelected=o(this,"kupRowSelected",6);this.kupOptionClicked=o(this,"kupOptionClicked",6);this.kupAddColumn=o(this,"kupAddColumn",6);this.kupRowActionClicked=o(this,"kupRowActionClicked",6);this.kupLoadMoreClicked=o(this,"kupLoadMoreClicked",6);this.kupCellButtonClicked=o(this,"kupCellButtonClicked",6);this.kupDataTableSortedColumn=o(this,"kupDataTableSortedColumn",6)}t.prototype.rowsPerPageHandler=function(t){this.currentRowsPerPage=t};t.prototype.expandGroupsHandler=function(){this.groupState={};this.forceGroupExpansion()};t.prototype.recalculateRows=function(){this.initRows()};t.prototype.componentWillLoad=function(){this.rowsPerPageHandler(this.rowsPerPage);this.initRows();if(this.expandGroups){this.forceGroupExpansion()}};t.prototype.componentDidLoad=function(){document.addEventListener("click",this.onDocumentClick);if(this.selectRow&&this.selectRow>0){if(this.selectRow<=this.renderedRows.length){this.selectedRows=[];this.selectedRows.push(this.renderedRows[this.selectRow-1]);this.kupAutoRowSelect.emit({selectedRow:this.selectedRows[0]})}}};t.prototype.componentDidUnload=function(){document.removeEventListener("click",this.onDocumentClick)};t.prototype.getColumns=function(){return this.data&&this.data.columns?this.data.columns:[{title:"",name:"",size:0}]};t.prototype.getVisibleColumns=function(){var t=this;var e=this.getColumns().filter(function(t){if(t.hasOwnProperty("visible")){return t.visible}return true});if(this.isGrouping()){return e.filter(function(e){var o=null;for(var i=0,r=t.groups;i<r.length;i++){var n=r[i];if(n.column===e.name){o=n;break}}if(o){return!o.hasOwnProperty("visible")||o.visible}return true})}return e};t.prototype.getGroupByName=function(t){if(!this.isGrouping()){return null}for(var e=0,o=this.groups;e<o.length;e++){var i=o[e];if(i.column===t){return i}}return null};t.prototype.getRows=function(){return this.data&&this.data.rows?this.data.rows:[]};t.prototype.initRows=function(){this.filterRows();this.footer=a(this.rows,this.totals);this.groupRows();this.sortRows();this.paginatedRows=l(this.rows,this.currentPage,this.currentRowsPerPage)};t.prototype.filterRows=function(){this.rows=u(this.getRows(),this.filters,this.globalFilterValue,this.getVisibleColumns().map(function(t){return t.name}))};t.prototype.isGrouping=function(){return this.groups&&this.groups.length>0};t.prototype.hasRowActions=function(){return this.rowActions!==undefined};t.prototype.removeGroup=function(t){this.groupState={};var e=this.groups.indexOf(t);if(e>=0){this.groups.splice(e,1);this.groups=this.groups.slice()}};t.prototype.removeGroupFromRow=function(t){if(!t){return}this.groupState={};var e=-1;for(var o=0;o<this.groups.length;o++){var i=this.groups[o];if(i.column===t.column){e=o;break}}if(e>=0){this.groups.splice(e,1);this.groups=this.groups.slice()}};t.prototype.hasTotals=function(){return this.totals&&Object.keys(this.totals).length>0};t.prototype.forceGroupExpansion=function(){var t=this;this.rows.forEach(function(e){return t.forceRowGroupExpansion(e)})};t.prototype.forceRowGroupExpansion=function(t){var e=this;if(!t.group){return}t.group.expanded=true;var o=this.groupState[t.group.id];if(!o){o={expanded:this.expandGroups}}else{o.expanded=this.expandGroups}this.groupState[t.group.id]=o;if(t.group.children){t.group.children.forEach(function(t){return e.forceRowGroupExpansion(t)})}};t.prototype.adjustPaginator=function(){var t=this.rows.length;var e=Math.ceil(t/this.currentRowsPerPage);if(this.currentPage>e){this.currentPage=1}};t.prototype.onColumnSort=function(t,e){var o=t.ctrlKey;var i=0;for(;i<this.sort.length;i++){var r=this.sort[i];if(r.column===e){break}}if(i<this.sort.length){var r=this.sort[i];var n=Object.assign({},r,{sortMode:r.sortMode===c.A?c.D:c.A});if(o){var s=this.sort.slice();s[i]=n;this.sort=s}else{this.sort=[n]}}else{var r={column:e,sortMode:c.A};if(o){this.sort=this.sort.concat([r])}else{this.sort=[r]}}};t.prototype.onFilterChange=function(t,e){var o=t.detail;this.currentPage=1;var i=Object.assign({},this.filters);if(o.value.length===0){delete i[e]}else{i[e]=o.value}this.filters=i};t.prototype.onGlobalFilterChange=function(t){var e=t.detail;this.currentPage=1;this.globalFilterValue=e.value};t.prototype.handlePageChanged=function(t){var e=t.detail;this.currentPage=e.newPage};t.prototype.handleRowsPerPageChanged=function(t){var e=t.detail;this.currentRowsPerPage=e.newRowsPerPage;this.adjustPaginator()};t.prototype.onRowClick=function(t,e){this.handleRowSelect(e,t.ctrlKey);var o=t.target;var i=null;if(o instanceof HTMLElement){if(o.tagName!=="TR"){var r=o;while(r.tagName!=="TD"){r=r.parentElement}i=r.dataset.column}}this.kupRowSelected.emit({selectedRows:this.selectedRows,clickedColumn:i})};t.prototype.onDefaultRowActionClick=function(t,e){var o=e.action,i=e.row,r=e.type,n=e.index;t.stopPropagation();this.kupRowActionClicked.emit({action:o,index:n,row:i,type:r})};t.prototype.onRowActionExpanderClick=function(t,e){t.stopPropagation();this.kupRowActionClicked.emit({row:e,type:"expander"})};t.prototype.handleRowSelect=function(t,e){if(this.multiSelection){if(e&&this.selectedRows){var o=this.selectedRows.indexOf(t);if(o<0){this.selectedRows=this.selectedRows.concat([t])}else{this.selectedRows.splice(o,1);this.selectedRows=this.selectedRows.slice()}}else{this.selectedRows=[t]}}else{this.selectedRows=[t]}};t.prototype.onRowCheckboxSelection=function(t,e){var o=t.target;if(o.checked){if(this.selectedRows.length>0){this.selectedRows=this.selectedRows.concat([e])}else{this.selectedRows=[e]}}else{var i=this.selectedRows.indexOf(e);if(i>=0){this.selectedRows.splice(i,1);this.selectedRows=this.selectedRows.slice()}}this.kupRowSelected.emit({selectedRows:this.selectedRows,clickedColumn:null})};t.prototype.onRowExpand=function(t){t.group.expanded=!t.group.expanded;this.groupState[t.group.id].expanded=t.group.expanded;this.groupState=Object.assign({},this.groupState)};t.prototype.onSelectAll=function(t){var e=t.target;if(e.checked){this.selectedRows=this.renderedRows}else{this.selectedRows=[]}this.kupRowSelected.emit({selectedRows:this.selectedRows,clickedColumn:null})};t.prototype.onColumnMouseEnter=function(t){var e=this;this.columnOverTimeout=setTimeout(function(){e.openedMenu=t},500)};t.prototype.onColumnMouseLeave=function(t){clearTimeout(this.columnOverTimeout);if(this.openedMenu===t){this.openedMenu=null}};t.prototype.switchColumnGroup=function(t,e){this.openedMenu=null;this.groupState={};if(t!==null){var o=this.groups.indexOf(t);this.groups.splice(o,1);this.groups=this.groups.slice()}else{this.groups=this.groups.concat([{column:e,visible:true}])}};t.prototype.onOptionClicked=function(t,e){this.kupOptionClicked.emit({column:t,row:e})};t.prototype.onJ4btnClicked=function(t,e,o){var i=arguments[3];if(i){i.stopPropagation()}else{throw"kup-data-table error: missing event"}this.kupCellButtonClicked.emit({cell:o,column:e,row:t})};t.prototype.groupRows=function(){if(!this.isGrouping()){return}this.rows=h(this.getColumns(),this.rows,this.groups,this.totals);this.adjustGroupState()};t.prototype.onLoadMoreClick=function(){var t=0;switch(this.loadMoreMode){case r.CONSTANT:t=this.loadMoreStep;break;case r.CONSTANT_INCREMENT:t=this.loadMoreStep*(this.loadMoreEventCounter+1);break;case r.PROGRESSIVE_THRESHOLD:t=Math.max(this.loadMoreEventPreviousQuantity,this.loadMoreStep)*Math.min(this.loadMoreEventCounter+1,2);break}if(t>this.loadMoreLimit){t=this.loadMoreLimit}this.kupLoadMoreClicked.emit({loadItems:t});this.loadMoreEventPreviousQuantity=t;this.loadMoreEventCounter++};t.prototype.adjustGroupState=function(){var t=this;if(!this.rows||this.rows.length===0||!this.rows[0].hasOwnProperty("group")){return}this.rows.forEach(function(e){return t.adjustGroupStateFromRow(e)})};t.prototype.adjustGroupStateFromRow=function(t){var e=this;if(!t||!t.hasOwnProperty("group")){return}var o=t.group;var i=this.groupState[o.id];if(!i){this.groupState[o.id]=o}else{o.expanded=i.expanded}o.children.forEach(function(t){return e.adjustGroupStateFromRow(t)})};t.prototype.sortRows=function(){this.rows=p(this.rows,this.sort)};t.prototype.getSortIcon=function(t){for(var e=0,o=this.sort;e<o.length;e++){var i=o[e];if(i.column===t){return"A"===i.sortMode?"mdi-sort-ascending":"mdi-sort-descending"}}return"mdi-sort"};t.prototype.calculateColspan=function(){var t=this.getVisibleColumns().length;if(this.multiSelection){t+=1}if(this.isGrouping()&&this.hasTotals()){t+=1}if(this.hasRowActions()){t+=1}return t};t.prototype.isGroupExpanded=function(t){var e=t.group;if(!e){return false}if(this.groupState[e.id]){return this.groupState[e.id].expanded}else{return false}};t.prototype.handleColumnSort=function(t,e){var o=this.data.columns.findIndex(function(e){return e.name===t.name&&e.title===t.title});var i=this.data.columns.findIndex(function(t){return t.name===e.name&&t.title===e.title});if(this.sortableColumnsMutateData){this.moveSortedColumns(this.data.columns,o,i)}this.kupDataTableSortedColumn.emit({receivingColumnIndex:o,sortedColumnIndex:i})};t.prototype.moveSortedColumns=function(t,e,o){var i=t.splice(o,1);t.splice(e,0,i[0])};t.prototype.defaultSortingFunction=function(t,e,o,i){if(i===void 0){i=false}return __awaiter(this,void 0,void 0,function(){var r;return __generator(this,function(n){r=!i?t:t.slice();this.moveSortedColumns(r,e,o);return[2,r]})})};t.prototype.toggleDensityVisibility=function(t,e){t.stopPropagation();if(e){this.topDensityPanelVisible=!this.topDensityPanelVisible;this.botDensityPanelVisible=false}else{this.topDensityPanelVisible=false;this.botDensityPanelVisible=!this.botDensityPanelVisible}};t.prototype.renderHeader=function(){var t=this;var e=this.columnsWidth.length>0;var o=this.getVisibleColumns().map(function(o){var r=null;if(t.showFilters){var n="";if(t.filters&&t.filters[o.name]){n=t.filters[o.name]}r=i("div",null,i("kup-text-input",{class:"datatable-filter",initialValue:n,"data-col":o.name,onKetchupTextInputUpdated:function(e){t.onFilterChange(e,o.name)}}))}var s=null;if(t.sortEnabled){s=i("span",{class:"column-sort"},i("span",{role:"button","aria-label":"Sort column",class:"mdi "+t.getSortIcon(o.name),onClick:function(e){return t.onColumnSort(e,o.name)}}))}var a=null;if(e){for(var l=0;l<t.columnsWidth.length;l++){var u=t.columnsWidth[l];if(u.column===o.name){var c=u.width.toString()+"px";a={width:c,minWidth:c,maxWidth:c};break}}}var h=[];var p=t.getGroupByName(o.name);var d=p!=null?"Disattiva raggruppamento":"Attiva raggruppamento";h.push(i("li",{role:"menuitem",onClick:function(){return t.switchColumnGroup(p,o.name)}},i("span",{class:"mdi mdi-book"}),d));h.push(i("li",{role:"menuitem",onClick:function(){return t.kupAddColumn.emit({column:o.name})}},i("span",{class:"mdi mdi-table-column-plus-after"}),"Aggiungi colonna"));var f=null;if(h.length!==0){var g=t.openedMenu===o.name?"open":"closed";f=i("div",{class:"column-menu "+g},i("ul",{role:"menubar"},h))}var v={};if(t.enableSortableColumns){v={draggable:true,onDragStart:function(e){e.dataTransfer.setData(P,JSON.stringify(o));e.dataTransfer.effectAllowed="move";e.target.setAttribute(t.dragStarterAttribute,"");t.theadRef.setAttribute(t.dragFlagAttribute,"");t.columnsAreBeingDragged=true},onDragLeave:function(e){if(e.dataTransfer.types.indexOf(P)>=0){e.target.removeAttribute(t.dragOverAttribute)}},onDragOver:function(e){if(e.dataTransfer.types.indexOf(P)>=0){var o=e.target;o.setAttribute(t.dragOverAttribute,"");if(!o.hasAttribute(t.dragStarterAttribute)&&t.columnsAreBeingDragged){e.preventDefault();e.dataTransfer.effectAllowed="move"}else{e.dataTransfer.effectAllowed="none"}}},onDragEnd:function(e){var o=e.target;if(o){o.removeAttribute(t.dragStarterAttribute)}t.theadRef.removeAttribute(t.dragFlagAttribute);t.columnsAreBeingDragged=false},onDrop:function(e){if(e.dataTransfer.types.indexOf(P)>=0){var i=JSON.parse(e.dataTransfer.getData(P));e.preventDefault();e.target.removeAttribute(t.dragOverAttribute);t.handleColumnSort(o,i)}}}}return i("th",Object.assign({style:a,onMouseEnter:function(){return t.onColumnMouseEnter(o.name)},onMouseLeave:function(){return t.onColumnMouseLeave(o.name)}},v),i("span",{class:"column-title"},o.title),s,r,f)});var r=null;if(this.multiSelection){var n={width:"30px",margin:"0 auto"};r=i("th",{style:n},i("input",{type:"checkbox",onChange:function(e){return t.onSelectAll(e)},title:"selectedRow: "+this.selectedRows.length+" - renderedRows: "+this.renderedRows.length,checked:this.selectedRows.length>0&&this.selectedRows.length===this.renderedRows.length}))}var s=null;if(this.isGrouping()&&this.hasTotals()){s=i("th",null)}var a=null;if(this.hasRowActions()){a=i("th",null)}return[r,s,a].concat(o)};t.prototype.renderFooter=function(){var t=this;if(!this.hasTotals()){return null}var e=this.getVisibleColumns().map(function(e){var o=e.name;return i("td",null,t.footer[o])});var o=null;if(this.multiSelection){o=i("td",null)}var r=null;if(this.isGrouping()&&this.hasTotals()){r=i("td",null)}var n=i("tfoot",null,i("tr",null,o,r,e));return n};t.prototype.renderRow=function(t,e,o){var r=this;if(e===void 0){e=0}var n=this.getVisibleColumns();if(t.group){if(t.group.children.length===0){return null}var s=t.group.expanded?i("path",{d:"M19,13H5V11H19V13Z"}):i("path",{d:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"});var a=[];var l=[];for(var u=0;u<e;u++){l.push(i("span",{class:"indent"}))}if(this.hasTotals()){var c=[];var h=this.multiSelection?2:1;c.push(i("td",{colSpan:h},l,i("span",{class:"group-cell-content"},i("span",{role:"button","aria-label":"Row expander",tabindex:"0",onClick:function(e){e.stopPropagation();r.onRowExpand(t)}},i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",class:"group-expander"},s)),t.group.label,i("span",{role:"button","aria-label":"Remove group",tabindex:"0",onClick:function(e){e.stopPropagation();r.removeGroupFromRow(t.group)}},i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",class:"group-remove"},i("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"}))))));for(var p=0,d=n;p<d.length;p++){var f=d[p];c.push(i("td",{class:"total"},t.group.totals[f.name]))}a.push(i("tr",{class:"group",onClick:function(){return r.onRowExpand(t)}},c))}else{a.push(i("tr",{class:"group",onClick:function(){return r.onRowExpand(t)}},i("td",{colSpan:this.calculateColspan()},l,i("span",{class:"group-cell-content"},i("span",{role:"button","aria-label":"Row expander",tabindex:"0",onClick:function(e){e.stopPropagation();r.onRowExpand(t)}},i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",class:"group-expander"},s)),i("span",{class:"text"},t.group.label),i("span",{role:"button","aria-label":"Remove group",tabindex:"0",onClick:function(e){e.stopPropagation();r.removeGroupFromRow(t.group)}},i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",class:"group-remove"},i("path",{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"})))))))}if(this.isGroupExpanded(t)){t.group.children.map(function(t,o,i){return r.renderRow(t,e+1,o>0?i[o-1]:null)}).forEach(function(t){if(Array.isArray(t)){t.forEach(function(t){return a.push(t)})}else{a.push(t)}})}return a}else{var c=n.map(function(n,s){var a=n.name,l=n.hideValuesRepetitions;var u=[];if(s===0&&!(r.isGrouping()&&r.hasTotals())){for(var c=0;c<e;c++){u.push(i("span",{class:"indent"}))}}var h=t.cells[a];var p=null;if(h.options&&(!l||l&&(!o||o.cells[a].value!==h.value))){p=i("span",{class:"options",role:"button","aria-label":"Opzioni oggetto",title:"Opzioni oggetto",onClick:function(){return r.onOptionClicked(a,t)}},i("i",{class:"mdi mdi-settings"}))}var d=r.renderCell(h,a,{row:t,column:n},l&&o?o.cells[a].value:null);var f={number:g(h.obj)};var v=null;if(!x(h)){v=h.style}return i("td",{"data-column":a,style:v,class:f},u,d,p)});var v=null;if(this.multiSelection){v=i("td",null,i("input",{type:"checkbox",checked:this.selectedRows.includes(t),onClick:function(t){return t.stopPropagation()},onChange:function(e){return r.onRowCheckboxSelection(e,t)}}))}var w=null;if(this.isGrouping()&&this.hasTotals()){w=i("td",null)}this.renderedRows.push(t);var m=null;if(this.hasRowActions()){var b=this.renderActions(this.rowActions,t,"default");var y=null;var R=null;if(t.actions){R=this.renderActions(t.actions,t,"variable")}else{y=i("span",{title:"Espandi voci",class:"row-action mdi mdi-chevron-right",onClick:function(e){return r.onRowActionExpanderClick(e,t)},role:"button","aria-label":"Espandi voci"})}m=i("td",null,b,y,R)}var C={selected:this.selectedRows.includes(t)};return i("tr",{class:C,onClick:function(e){return r.onRowClick(e,t)}},v,w,m,c)}};t.prototype.renderActions=function(t,e,o){var r=this;return t.map(function(t,n){return i("span",{title:t.text,class:"row-action "+t.icon,onClick:function(i){return r.onDefaultRowActionClick(i,{action:t,index:n,row:e,type:o})},role:"button","aria-label":t.text})})};t.prototype.renderCell=function(t,e,o,r){var n={"cell-content":true};var s=r!==t.value?t.value:"";var a=s;if(d(t.obj)||f(t.obj)){a=i("span",{class:s})}else if(g(t.obj)){a=s;if(a){var l=v(t.obj.k).value();if(l<0){n["negative-number"]=true}}}else if(w(t.obj)){a=i("img",{src:s,alt:"",width:"64",height:"64"})}else if(m(t.obj)){a=i("a",{href:s,target:"_blank"},s)}else if(b(t.obj)){a=i("kup-checkbox",{checked:!!t.obj.k,disabled:o&&o.row&&o.row.hasOwnProperty("readOnly")?o.row.readOnly:true})}else if(y(t.obj)){a=i("kup-button",Object.assign({},R(t),{onKupButtonClicked:this.onJ4btnClicked.bind(this,o?o.row:null,o?o.column:null,t)}))}else if(C(t.obj)){var u={value:t.value};if(this.columnsWidth&&this.columnsWidth[e]){u.width=this.columnsWidth[e]}a=s?i("kup-graphic-cell",Object.assign({},u)):null}var c=null;if(x(t)){c=t.style}return i("span",{class:n,style:c},a)};t.prototype.renderLoadMoreButton=function(t){var e=this;if(t===void 0){t=true}var o="Carica altri dati";return i("button",{"aria-label":o,class:"load-more-records mdi mdi-plus-circle",role:"button",slot:t?"more-results":null,tabindex:"0",title:o,onClick:function(){return e.onLoadMoreClick()}})};t.prototype.renderPaginator=function(t){var e=this;return i("div",{class:"paginator-wrapper"},i("kup-paginator",{id:t?"top-paginator":"bottom-paginator",max:this.rows.length,perPage:this.rowsPerPage,selectedPerPage:this.currentRowsPerPage,currentPage:this.currentPage,onKupPageChanged:function(t){return e.handlePageChanged(t)},onKupRowsPerPageChanged:function(t){return e.handleRowsPerPageChanged(t)}},this.showLoadMore?this.renderLoadMoreButton():null),this.renderDensityPanel(t))};t.prototype.renderDensityPanel=function(t){var e=this;return i("div",{class:"density-panel"},i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"})),i("div",{role:"button",tabindex:"0",onClick:function(o){return e.toggleDensityVisibility(o,t)}},i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M7,10L12,15L17,10H7Z"}))),i("div",{class:{"density-panel-overlay":true,open:t?this.topDensityPanelVisible:this.botDensityPanelVisible}},i("div",{class:{wrapper:true,active:this.density==="big"},onClick:function(){return e.density="big"},role:"button",tabindex:"0","aria-pressed":this.density==="big"?"true":"false"},i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M3,4H21V8H3V4M3,10H21V14H3V10M3,16H21V20H3V16Z"})),"Bassa"),i("div",{class:{wrapper:true,active:this.density==="medium"},onClick:function(){return e.density="medium"},role:"button",tabindex:"0","aria-pressed":this.density==="medium"?"true":"false"},i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"})),"Media"),i("div",{class:{wrapper:true,active:this.density==="small"},onClick:function(){return e.density="small"},role:"button",tabindex:"0","aria-pressed":this.density==="small"?"true":"false"},i("svg",{version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"},i("path",{d:"M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z"})),"Alta")))};t.prototype.render=function(){var t=this;this.renderedRows=[];var e=null;if(this.paginatedRows.length===0){e=i("tr",null,i("td",{colSpan:this.calculateColspan()},"Empty data"))}else{e=[];this.paginatedRows.map(function(e,o,i){return t.renderRow(e,0,o>0?i[o-1]:null)}).forEach(function(t){if(Array.isArray(t)){t.forEach(function(t){return e.push(t)})}else{e.push(t)}})}var o=this.renderHeader();var r=this.renderFooter();var a=null;if(this.globalFilter){a=i("div",{id:"globalFilter"},i("kup-text-input",{label:"Global filter",onKetchupTextInputUpdated:function(e){return t.onGlobalFilterChange(e)}}))}var l=null;if(n.TOP===this.paginatorPos||n.BOTH===this.paginatorPos){l=this.renderPaginator(true)}var u=null;if(n.BOTTOM===this.paginatorPos||n.BOTH===this.paginatorPos){u=this.renderPaginator(false)}var c=null;if(this.isGrouping()){var h=this.groups.map(function(e){var o=k(t.getColumns(),e.column);if(o){return i("kup-chip",{closable:true,onClose:function(){return t.removeGroup(e)}},o.title)}else{return null}});c=i("div",{id:"group-chips"},h)}var p={"column-separation":s.COMPLETE===this.showGrid||s.COL===this.showGrid,"row-separation":s.COMPLETE===this.showGrid||s.ROW===this.showGrid,"persistent-header":this.headerIsPersistent};p["density-"+this.density]=true;return i("div",{id:"data-table-wrapper"},i("div",{class:"above-wrapper"},l,a),i("div",{class:"below-wrapper"},c,i("table",{class:p},i("thead",{hidden:!this.showHeader,ref:function(e){return t.theadRef=e}},i("tr",null,o)),i("tbody",null,e),r)),u)};Object.defineProperty(t,"watchers",{get:function(){return{rowsPerPage:["rowsPerPageHandler","recalculateRows"],expandGroups:["expandGroupsHandler"],data:["recalculateRows"],sort:["recalculateRows"],filters:["recalculateRows"],globalFilterValue:["recalculateRows"],groups:["recalculateRows"],totals:["recalculateRows"],currentPage:["recalculateRows"],currentRowsPerPage:["recalculateRows"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return"\@import url(https://cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css);:host{--dtt_background-color:var(--kup-data-table_background-color,#fff);--dtt_border-color:var(--kup-data-table_border-color,#bdbdbd);--dtt_box-shadow:var(--kup-data-table_box-shadow,0px 0px 7.5px 0px hsla(0,0%,50.2%,0.5));--dtt_color:var(--kup-data-table_color,#1a1a1a);--dtt_drag-over--allowed:var(--kup-data-table_drag-over--allowed,rgba(78,144,143,0.24));--dtt_drag-over--forbidden:var(--kup-data-table_drag-over--forbidden,rgba(240,66,60,0.24));--dtt_filter-border-color:var(--kup-data-table_filter-border-color,#d0d0d0);--dtt_filter-background-color:var(--kup-data-table_filter-background-color,#fff);--dtt_group-background-color:var(--kup-data-table_group-background-color,#f9f9f9);--dtt_hover-color:var(--kup-data-table_hover-color,#545454);--dtt_head-background-color:var(--kup-data-table_head-background-color,#fff);--dtt_header-offset:var(--kup-data-table_header-offset,50px);--dtt_hover-background-color:var(--kup-data-table_hover-background-color,#f0f0f0);--dtt_icons-color:var(--kup-data-table_icons-color,grey);--dtt_icons-hover-color:var(--kup-data-table_icons-hover-color,#4e908f);--dtt_font-size:var(--kup-data-table_font-size,0.9375rem);--dtt_main-color:var(--kup-data-table_main-color,#6aaaa7);--dtt_text-on-main-color:var(--kup-data-table_text-on-main-color,#fff);--dtt_negative-number-color:var(--kup-data-table_negative-number-color,#d91e18)}#data-table-wrapper{background-color:var(--dtt_background-color)}#data-table-wrapper table{color:var(--dtt_color);width:100%;min-width:intrinsic;min-width:-moz-max-content;min-width:-webkit-max-content;border-collapse:collapse;text-align:left;font-size:var(--dtt_font-size)}#data-table-wrapper table>thead{background:var(--dtt_head-background-color)}#data-table-wrapper table>thead th{position:relative;padding:.5rem .3125rem;white-space:nowrap;border-bottom:2px solid var(--dtt_border-color);border-right:1px solid var(--dtt_border-color)}#data-table-wrapper table>thead th kup-text-input.datatable-filter{--kup-text-input_border-color:var(--dtt_filter-border-color);--kup-text-input_background-color:var(--dtt_filter-background-color)}#data-table-wrapper table>thead th .column-sort{margin-left:.5rem;cursor:pointer}#data-table-wrapper table>thead th .column-sort .mdi{color:var(--dtt_icons-color);-webkit-transition:color .2s ease-in-out;transition:color .2s ease-in-out}#data-table-wrapper table>thead th .column-sort .mdi:hover{color:var(--dtt_icons-hover-color)}#data-table-wrapper table>thead th .column-sort .mdi-sort-ascending,#data-table-wrapper table>thead th .column-sort .mdi-sort-descending{color:var(--dtt_main-color)}#data-table-wrapper table>thead th .column-menu{background-color:var(--dtt_background-color);-webkit-box-shadow:var(--dtt_box-shadow);box-shadow:var(--dtt_box-shadow);color:var(--dtt_color);position:absolute;z-index:100;font-weight:400;min-width:200px;min-width:-moz-max-content;min-width:-webkit-max-content}#data-table-wrapper table>thead th .column-menu.closed{display:none}#data-table-wrapper table>thead th .column-menu.open{display:block;-webkit-animation:display-none-transition .5s both;-webkit-animation-timing-function:cubic-bezier(.67,-.81,.89,.71);animation:display-none-transition .5s both;animation-timing-function:cubic-bezier(.67,-.81,.89,.71)}#data-table-wrapper table>thead th .column-menu ul{list-style-type:none;margin:0;padding:0}#data-table-wrapper table>thead th .column-menu ul>li{padding:.8rem;-webkit-transition:color .2s ease-in-out;transition:color .2s ease-in-out;color:#545454}#data-table-wrapper table>thead th .column-menu ul>li:not(:last-child){border-bottom:1px solid var(--dtt_border-color)}#data-table-wrapper table>thead th .column-menu ul>li:hover{cursor:pointer;color:var(--dtt_main-color)}#data-table-wrapper table>thead th .column-menu ul>li .mdi{color:#4e908f;margin-right:.5rem}#data-table-wrapper table>thead[columns-dragging] [drag-over]{background-color:var(--dtt_drag-over--allowed)}#data-table-wrapper table>thead[columns-dragging] [drag-over]>*{pointer-events:none}#data-table-wrapper table>thead[columns-dragging] [drag-over][drag-starter]{background-color:var(--dtt_drag-over--forbidden)}#data-table-wrapper table>tbody{border:1px solid var(--dtt_border-color);cursor:pointer}#data-table-wrapper table>tbody>tr.selected>td,#data-table-wrapper table>tbody>tr:hover>td{color:var(--dtt_hover-color);background-color:var(--dtt_hover-background-color);-webkit-transition:background-color .25s ease-in-out;transition:background-color .25s ease-in-out}#data-table-wrapper table>tbody>tr.group{background:var(--dtt_group-background-color);font-weight:700;border-top:1px solid var(--dtt_border-color)}#data-table-wrapper table>tbody>tr.group>td{padding:1rem 0}#data-table-wrapper table>tbody>tr.group>td .group-cell-content svg{cursor:pointer;width:var(--dtt_font-size);height:var(--dtt_font-size);margin:0 .3rem}#data-table-wrapper table>tbody>tr.group>td .group-cell-content svg.group-expander{padding:.2rem;border-radius:50%;background:#e5e5e5;margin-right:1rem;margin-left:.5rem}#data-table-wrapper table>tbody>tr.group>td .group-cell-content svg.group-remove{fill:#d91e18}#data-table-wrapper table>tbody>tr.group>td .group-cell-content>span{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle;outline:none}#data-table-wrapper table>tbody>tr.group>td.total{text-align:right;padding-right:1rem}#data-table-wrapper table>tbody>tr>td{padding:.5rem .3125rem}#data-table-wrapper table>tbody>tr>td.number{text-align:right}#data-table-wrapper table>tbody>tr>td .row-expander{margin-right:.5rem}#data-table-wrapper table>tbody>tr>td .indent{display:inline-block;height:1rem;width:2rem}#data-table-wrapper table>tbody>tr>td .options{margin-left:.5rem;color:var(--dtt_icons-color)}#data-table-wrapper table>tbody>tr>td .options:hover{color:var(--dtt_icons-hover-color);-webkit-transition:color .25s ease-out;transition:color .25s ease-out}#data-table-wrapper table>tbody>tr>td .row-action{margin-right:.2rem}#data-table-wrapper table>tbody>tr>td .cell-content.negative-number{color:var(--dtt_negative-number-color)}#data-table-wrapper table.row-separation>tbody>tr{border-bottom:1px solid var(--dtt_border-color)}#data-table-wrapper table.column-separation>tbody>tr>td{border-right:1px solid var(--dtt_border-color)}#data-table-wrapper table.persistent-header{border-top:1px solid var(--dtt_border-color);position:relative}#data-table-wrapper table.persistent-header>thead{border-color:var(--dtt_border-color);border-style:solid;border-width:0 1px 0}#data-table-wrapper table.persistent-header>thead>th{background-color:var(--dtt_head-background-color);-webkit-box-shadow:var(--dtt_box-shadow);box-shadow:var(--dtt_box-shadow);position:-webkit-sticky;position:sticky;top:var(--dtt_header-offset);will-change:transform}#data-table-wrapper table.persistent-header>tbody{border-top:3px solid var(--dtt_border-color)}#data-table-wrapper table>tfoot td{text-align:right;font-weight:700;padding:.5rem .3125rem}#data-table-wrapper table.noGrid,#data-table-wrapper table.noGrid td{border:none}#data-table-wrapper table.density-big tbody>tr>td{padding-top:.2rem;padding-bottom:.2rem}#data-table-wrapper table.density-big tbody>tr.group>td{padding-top:.75rem;padding-bottom:.75rem}#data-table-wrapper table.density-small tbody>tr>td{padding-top:1rem;padding-bottom:1rem}#data-table-wrapper table.density-small tbody>tr.group>td{padding-top:1.25rem;padding-bottom:1.25rem}#data-table-wrapper .paginator-wrapper{display:-ms-flexbox;display:flex}#data-table-wrapper .paginator-wrapper kup-paginator{-ms-flex-positive:1;flex-grow:1}#globalFilter{margin-bottom:.5rem;text-align:center}#group-chips{display:-ms-flexbox;display:flex;margin-bottom:.5rem}#group-chips>.group-chip{display:-ms-flexbox;display:flex;background-color:var(--dtt_main-color);padding:.5rem;color:var(--dtt_text-on-main-color);margin-right:.5rem;cursor:pointer;-webkit-transition:opacity .2s ease-in-out;transition:opacity .2s ease-in-out}#group-chips>.group-chip:hover{opacity:.75}.density-panel{position:relative;margin-left:1rem;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.density-panel svg{height:1.5rem;width:1.5rem}.density-panel [role=button]{outline:none;cursor:pointer;display:-ms-flexbox;display:flex}.density-panel [role=button] svg{fill:#bdbdbd}.density-panel .density-panel-overlay{background:var(--dtt_background-color);position:absolute;top:1.6rem;right:0;display:none;opacity:0;z-index:10;-webkit-box-shadow:0 0 7.5px 0 hsla(0,0%,50.2%,.5);box-shadow:0 0 7.5px 0 hsla(0,0%,50.2%,.5);width:100px;width:-webkit-max-content;width:-moz-max-content;width:max-content}.density-panel .density-panel-overlay .wrapper{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;outline:none;color:var(--dtt_color);cursor:pointer;padding:.5rem 1rem;-webkit-transition:color .25s,background-color .25s,opacity .25s;transition:color .25s,background-color .25s,opacity .25s}.density-panel .density-panel-overlay .wrapper:first-child{padding-top:.75rem}.density-panel .density-panel-overlay .wrapper:last-child{padding-bottom:.75rem}.density-panel .density-panel-overlay .wrapper svg{margin-right:.5rem;fill:var(--dtt_color)}.density-panel .density-panel-overlay .wrapper.active,.density-panel .density-panel-overlay .wrapper:hover{color:var(--dtt_hover-color);background-color:var(--dtt_hover-background-color)}.density-panel .density-panel-overlay .wrapper.active svg,.density-panel .density-panel-overlay .wrapper:hover svg{fill:var(--dtt_hover-color)}.density-panel .density-panel-overlay.open{opacity:1;display:block}\@-webkit-keyframes display-none-transition{0%{opacity:0}to{opacity:1}}\@keyframes display-none-transition{0%{opacity:0}to{opacity:1}}.load-more-records{background-color:transparent;border:0 none;color:var(--dtt_icons-color);cursor:pointer;display:inline-block;font-size:calc(var(--dtt_font-size) * 1.2);height:calc(var(--dtt_font-size) * 1.2);margin:0 6px;padding:0;-webkit-transition:color .3s;transition:color .3s;width:calc(var(--dtt_font-size) * 1.2)}.load-more-records:hover{color:var(--dtt_icons-hover-color)}.load-more-records:before{height:inherit;width:inherit}"},enumerable:true,configurable:true});return t}();t("kup_data_table",S)}}});